(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7457],{71718:function(e,t,i){Promise.resolve().then(i.bind(i,9860))},9860:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return v}});var l=i(57437),s=i(12786),n=i(87586),a=i(2265),r=i(18182),d=i(1271),o=i(16463),c=i(60275),u=i(27517),m=i(90089);function v(){let e=(0,o.useSearchParams)(),{i18n:t,t:i}=(0,m.$G)(),v=e.get("id")||1,{address:f}=(0,c.$)(),[h,w]=(0,a.useState)(!1),[x,_]=(0,a.useState)(!1),[b,g]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),[p,N]=(0,a.useState)({}),[k,D]=(0,a.useState)({}),S=(0,a.useMemo)(()=>"en"===t.language?[{activity_id:1,title:"\uD83D\uDD25 .btc (BtcName) Blind Box Airdrop",time:"2024/10/1 ~ 2024/10/7",desc:"Complete the Web3 task during the event period",twitter_id:"SAT20Market",tweet_id:"1234567890123456789"}]:[{activity_id:1,title:"\uD83D\uDD25 .btc (BtcName) 盲盒空投",time:"2024/10/1 ~ 2024/10/7",desc:"活动期间持有 ≥ 0.0002 BTC",twitter_id:"SAT20Market",tweet_id:"1234567890123456789"}],[t.language]),C=(0,a.useMemo)(()=>S.find(e=>e.activity_id==v),[v,S]),P=async()=>{let[e,t]=await (0,r.vU)(n.tg)({address:f});200===t.code&&(location.href=t.data.authorization_url)},U=async()=>{w(!0),D(!1);let[e,t]=await (0,r.vU)(n.yr)({address:f});if(w(!1),e){console.error(e);return}if(200===t.code){var i;D((null===(i=t.data)||void 0===i?void 0:i.twitter)||{})}},A=async()=>{w(!0),N({});let[e,t]=await (0,r.vU)(n.F_)({address:f,activity_id:null==C?void 0:C.activity_id});w(!1),e&&console.error(e),200===t.code&&N(t.data)};(0,a.useEffect)(()=>{f&&(U(),A())},[f]);let z=async()=>{window.open("https://twitter.com/intent/follow?screen_name=".concat(null==C?void 0:C.twitter_id),"_blank");let[e,t]=await (0,r.vU)(n.UK)({address:f,activity_name:"following",result:1,activity_id:null==C?void 0:C.activity_id});if(e){console.error(e);return}200===t.code&&N({...p,following:1})},B=async()=>{window.open("https://twitter.com/intent/retweet?tweet_id=".concat(null==C?void 0:C.tweet_id),"_blank");let[e,t]=await (0,r.vU)(n.UK)({address:f,activity_name:"retweets",activity_id:null==C?void 0:C.activity_id,result:1});if(e){console.error(e);return}200===t.code&&N({...p,retweets:1})},E=async()=>{window.open("https://twitter.com/intent/like?tweet_id=".concat(null==C?void 0:C.tweet_id),"_blank");let[e,t]=await (0,r.vU)(n.UK)({address:f,activity_name:"flowers",activity_id:null==C?void 0:C.activity_id,result:1});if(e){console.error(e);return}200===t.code&&N({...p,flowers:1})},F=async()=>{let[e,t]=await (0,r.vU)(n.F_)({address:f,activity_id:null==C?void 0:C.activity_id});w(!1);let l=(null==t?void 0:t.following)==1&&(null==t?void 0:t.retweets)==1&&(null==t?void 0:t.flowers)==1;e||(null==t?void 0:t.code)!==200||!l?d.ZP.error({message:i("pages.event.totast.error")}):d.ZP.success({message:i("pages.event.totast.success")})};return(0,l.jsxs)("div",{className:"container mx-auto p-4 max-w-6xl",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-4",children:null==C?void 0:C.title}),(0,l.jsx)("p",{className:"text-sm",children:null==C?void 0:C.time})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"完成Web3 任务"}),(0,l.jsx)("div",{className:"border border-gray-700 rounded-lg p-4",children:null==C?void 0:C.desc})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"text-2xl font-bold mb-4 flex justify-between items-center",children:[(0,l.jsx)("span",{children:"完成 X 社媒任务"}),(0,l.jsx)(u.j,{children:(0,l.jsx)(s.A,{size:"sm",color:"default",radius:"full",isLoading:h,isDisabled:null==k?void 0:k.id,onClick:P,children:(null==k?void 0:k.id)?"已绑定 ".concat(k.name):"绑定 X"})})]}),(0,l.jsxs)("div",{className:"mb-4 border border-gray-700 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"mb-4",children:["关注 @",null==C?void 0:C.twitter_id," 的 X 账号"]}),(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsx)(s.A,{onClick:z,size:"sm",isLoading:h||x,isDisabled:1===p.following||!(null==k?void 0:k.id),color:"default",radius:"full",children:"关注"})})]}),(0,l.jsxs)("div",{className:"mb-4 border border-gray-700 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"mb-4",children:["转发 @",null==C?void 0:C.twitter_id," 的推文"]}),(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsx)(s.A,{onClick:B,size:"sm",color:"default",isLoading:h||b,isDisabled:1===p.retweets||!(null==k?void 0:k.id),radius:"full",children:"转发"})})]}),(0,l.jsxs)("div",{className:"mb-4 border border-gray-700 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"mb-4",children:["点赞 @",null==C?void 0:C.twitter_id," 的推文"]}),(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsx)(s.A,{onClick:E,size:"sm",color:"default",isLoading:h||j,isDisabled:1===p.flowers||!(null==k?void 0:k.id),radius:"full",children:"点赞"})})]}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)(s.A,{size:"md",color:"primary",radius:"full",onClick:F,children:"验证抽奖资格"})})]})]})}},27517:function(e,t,i){"use strict";i.d(t,{j:function(){return r}});var l=i(57437),s=i(12786),n=i(60275);i(2265);var a=i(90089);let r=e=>{var t;let{children:i,className:r,text:d,keepStyle:o}=e;null==i||null===(t=i.props)||void 0===t||t.onClick;let{t:c}=(0,a.$G)(),{connected:u,setModalVisible:m}=(0,n.$)(e=>e);return u||o?(0,l.jsx)(l.Fragment,{children:i}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.A,{variant:"ghost",size:"md",onClick:()=>m(!0),radius:"sm",className:r,color:"primary",children:d||c("buttons.connect")})})}},16463:function(e,t,i){"use strict";var l=i(71169);i.o(l,"usePathname")&&i.d(t,{usePathname:function(){return l.usePathname}}),i.o(l,"useRouter")&&i.d(t,{useRouter:function(){return l.useRouter}}),i.o(l,"useSearchParams")&&i.d(t,{useSearchParams:function(){return l.useSearchParams}})}},function(e){e.O(0,[3121,1866,1645,8218,3454,9190,1271,275,7923,2971,7023,1744],function(){return e(e.s=71718)}),_N_E=e.O()}]);