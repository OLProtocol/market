(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[979],{25968:function(e,t,i){Promise.resolve().then(i.bind(i,61569))},61569:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var s=i(57437),l=i(12786),a=i(87586),n=i(2265),r=i(18182),d=i(1271),o=i(16463),c=i(60275),u=i(90089);function m(){let e=(0,o.useSearchParams)(),{i18n:t,t:i}=(0,u.$G)(),m=e.get("id")||1,{address:v}=(0,c.$)(),[f,w]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[_,b]=(0,n.useState)(!1),[y,g]=(0,n.useState)(!1),[j,p]=(0,n.useState)({}),[N,k]=(0,n.useState)({}),D=(0,n.useMemo)(()=>"en"===t.language?[{activity_id:1,title:"\uD83D\uDD25 .btc (BtcName) Blind Box Airdrop",time:"2024/10/1 ~ 2024/10/7",desc:"Complete the Web3 task during the event period",twitter_id:"SAT20Market",tweet_id:"1234567890123456789"}]:[{activity_id:1,title:"\uD83D\uDD25 .btc (BtcName) 盲盒空投",time:"2024/10/1 ~ 2024/10/7",desc:"活动期间持有 ≥ 0.0002 BTC",twitter_id:"SAT20Market",tweet_id:"1234567890123456789"}],[t.language]),S=(0,n.useMemo)(()=>D.find(e=>e.activity_id==m),[m,D]),P=async()=>{let[e,t]=await (0,r.vU)(a.tg)({address:v});200===t.code&&(location.href=t.data.authorization_url)},U=async()=>{w(!0),k(!1);let[e,t]=await (0,r.vU)(a.yr)({address:v});if(w(!1),e){console.error(e);return}if(200===t.code){var i;k((null===(i=t.data)||void 0===i?void 0:i.twitter)||{})}},C=async()=>{w(!0),p({});let[e,t]=await (0,r.vU)(a.F_)({address:v,activity_id:null==S?void 0:S.activity_id});w(!1),e&&console.error(e),200===t.code&&p(t.data)};(0,n.useEffect)(()=>{v&&(U(),C())},[v]);let A=async()=>{window.open("https://twitter.com/intent/follow?screen_name=".concat(null==S?void 0:S.twitter_id),"_blank");let[e,t]=await (0,r.vU)(a.UK)({address:v,activity_name:"following",result:1,activity_id:null==S?void 0:S.activity_id});if(e){console.error(e);return}200===t.code&&p({...j,following:1})},z=async()=>{window.open("https://twitter.com/intent/retweet?tweet_id=".concat(null==S?void 0:S.tweet_id),"_blank");let[e,t]=await (0,r.vU)(a.UK)({address:v,activity_name:"retweets",activity_id:null==S?void 0:S.activity_id,result:1});if(e){console.error(e);return}200===t.code&&p({...j,retweets:1})},B=async()=>{window.open("https://twitter.com/intent/like?tweet_id=${currentData?.tweet_id}","_blank");let[e,t]=await (0,r.vU)(a.UK)({address:v,activity_name:"flowers",activity_id:null==S?void 0:S.activity_id,result:1});if(e){console.error(e);return}200===t.code&&p({...j,flowers:1})},E=async()=>{let[e,t]=await (0,r.vU)(a.F_)({address:v,activity_id:null==S?void 0:S.activity_id});w(!1);let s=(null==t?void 0:t.following)==1&&(null==t?void 0:t.retweets)==1&&(null==t?void 0:t.flowers)==1;e||(null==t?void 0:t.code)!==200||!s?d.ZP.error({message:i("pages.event.totast.error")}):d.ZP.success({message:i("pages.event.totast.success")})};return(0,s.jsxs)("div",{className:"container mx-auto p-4 max-w-6xl",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:null==S?void 0:S.title}),(0,s.jsx)("p",{className:"text-sm",children:null==S?void 0:S.time})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"完成Web3 任务"}),(0,s.jsx)("div",{className:"border border-gray-700 rounded-lg p-4",children:null==S?void 0:S.desc})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold mb-4 flex justify-between items-center",children:[(0,s.jsx)("span",{children:"完成 X 社媒任务"}),(0,s.jsx)(l.A,{size:"sm",color:"default",radius:"full",isLoading:f,isDisabled:null==N?void 0:N.id,onClick:P,children:(null==N?void 0:N.id)?"已绑定 ".concat(N.name):"绑定 X"})]}),(0,s.jsxs)("div",{className:"mb-4 border border-gray-700 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:["关注 @",null==S?void 0:S.twitter_id," 的 X 账号"]}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(l.A,{onClick:A,size:"sm",isLoading:f||h,isDisabled:1===j.following||!(null==N?void 0:N.id),color:"default",radius:"full",children:"关注"})})]}),(0,s.jsxs)("div",{className:"mb-4 border border-gray-700 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:["转发 @",null==S?void 0:S.twitter_id," 的推文"]}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(l.A,{onClick:z,size:"sm",color:"default",isLoading:f||_,isDisabled:1===j.retweets||!(null==N?void 0:N.id),radius:"full",children:"转发"})})]}),(0,s.jsxs)("div",{className:"mb-4 border border-gray-700 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:["点赞 @",null==S?void 0:S.twitter_id," 的推文"]}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(l.A,{onClick:B,size:"sm",color:"default",isLoading:f||y,isDisabled:1===j.flowers||!(null==N?void 0:N.id),radius:"full",children:"点赞"})})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(l.A,{size:"md",color:"primary",radius:"full",onClick:E,children:"验证抽奖资格"})})]})]})}},16463:function(e,t,i){"use strict";var s=i(71169);i.o(s,"usePathname")&&i.d(t,{usePathname:function(){return s.usePathname}}),i.o(s,"useRouter")&&i.d(t,{useRouter:function(){return s.useRouter}}),i.o(s,"useSearchParams")&&i.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[3121,1866,1645,8218,3454,9190,1271,275,7923,2971,7023,1744],function(){return e(e.s=25968)}),_N_E=e.O()}]);