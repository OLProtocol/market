"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{60275:function(t,e,n){n.d(e,{$:function(){return D},A:function(){return y}});var i=n(2265),o=n(54887),s=n(33804),r=n(73089),c={modalRoot:t=>({position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:t}),overlay:t=>({backgroundColor:"dark"===t?"rgba(0, 0, 0, 0.7)":"rgba(0, 0, 0, 0.3)",width:"100%",height:"100%",position:"absolute",top:0,left:0}),modalContentBoxBase:t=>({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"18rem",maxWidth:"90%",minHeight:"7.5rem",maxHeight:"90vh",borderRadius:"0.75rem",overflow:"hidden",backgroundColor:"dark"===t?"#18181b":"#ffffff",color:"dark"===t?"#ecedee":"#000000",display:"flex",flexDirection:"column",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),headerBase:t=>({padding:"1rem",position:"relative",borderBottom:"1px solid ".concat("dark"===t?"#3f3f46":"#e5e7eb"),flexShrink:0}),title:{fontSize:"1.125rem",lineHeight:"1.75rem",fontWeight:"600",textAlign:"center"},closeButton:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:"1rem",background:"none",border:"none",padding:"0.25rem",cursor:"pointer",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},closeButtonHover:t=>({backgroundColor:"dark"===t?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"}),closeIconBase:t=>({width:"1.25rem",height:"1.25rem",filter:"dark"===t?"invert(1)":"none",display:"block"}),walletListContainer:{padding:"0.5rem",display:"flex",flexDirection:"column",gap:"0.25rem",flexGrow:1,overflowY:"auto"},walletItemBase:(t,e)=>({height:"3.5rem",cursor:e?"pointer":"default",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 0.75rem",gap:"0.75rem",borderRadius:"0.375rem",position:"relative",overflow:"hidden",backgroundColor:"transparent",color:"dark"===t?"#ecedee":"#1f2937",opacity:e?1:.5,transition:"background-color 0.15s ease-out"}),walletItemHoverActive:t=>({backgroundColor:"dark"===t?"#27272a":"#f3f4f6"}),loadingOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1,borderRadius:"inherit"},loadingIcon:t=>({width:"1.5rem",height:"1.5rem",color:"dark"===t?"#a1a1aa":"#9ca3af"}),walletInfoContainer:{display:"flex",alignItems:"center",flex:"1 1 0%",minWidth:0},walletLogo:{width:"2rem",height:"2rem",marginRight:"0.75rem",flexShrink:0},walletName:{flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"500"},notInstalledText:t=>({fontSize:"0.75rem",lineHeight:"1rem",color:"dark"===t?"#a16207":"#9a3412",backgroundColor:"dark"===t?"rgba(252, 211, 77, 0.1)":"rgba(255, 237, 213, 0.5)",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",whiteSpace:"nowrap",marginLeft:"0.5rem",flexShrink:0,fontWeight:"500"})},l=t=>{let{visible:e,title:n="Select Wallet",theme:s="light",wallets:r=[],zIndex:l=100,className:M,onClick:a,onClose:w}=t,[N,d]=(0,i.useState)(!1),[u,g]=(0,i.useState)(null),[I,D]=(0,i.useState)(null),[h,y]=(0,i.useState)(!1),T=async(t,e)=>{if(!u&&e){g(t);try{await (null==a?void 0:a(t))}catch(t){console.error("Wallet connection failed:",t)}finally{g(null)}}};(0,i.useEffect)(()=>{d(!0);let t=document.createElement("style");return t.id="spin-animation-style",t.innerHTML="\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n  .animate-spin-modal { /* Use a specific class name */\n    animation: spin 1s linear infinite;\n  }\n",document.getElementById(t.id)||document.head.appendChild(t),()=>{let e=document.getElementById(t.id);e&&e.parentNode&&e.parentNode.removeChild(e)}},[]);let j=e?i.createElement("div",{style:c.modalRoot(l)},i.createElement("div",{style:c.overlay(s),onClick:()=>!u&&(null==w?void 0:w())}),i.createElement("div",{style:c.modalContentBoxBase(s),className:M},i.createElement("div",{style:c.headerBase(s)},i.createElement("h2",{style:c.title},n),i.createElement("button",{onClick:()=>!u&&(null==w?void 0:w()),style:{...c.closeButton,...h?c.closeButtonHover(s):{}},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),disabled:!!u,"aria-label":"Close Wallet Select Modal"},i.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTEzLjQ2IDEyTDE5IDE3LjU0VjE5aC0xLjQ2TDEyIDEzLjQ2TDYuNDYgMTlINXYtMS40NkwxMC41NCAxMkw1IDYuNDZWNWgxLjQ2TDEyIDEwLjU0TDE3LjU0IDVIMTl2MS40NkwxMy40NiAxMloiLz48L3N2Zz4=",alt:"close",style:c.closeIconBase(s)}))),i.createElement("div",{style:c.walletListContainer},r.map(t=>{let e=u===t.id,n=I===t.id,o={...c.walletItemBase(s,t.installed),...(n||e)&&t.installed?c.walletItemHoverActive(s):{}};return i.createElement("div",{key:t.id,onClick:()=>null==T?void 0:T(t.id,t.installed),style:o,onMouseEnter:()=>t.installed&&D(t.id),onMouseLeave:()=>D(null),"aria-disabled":!t.installed||!!u,role:"button",tabIndex:t.installed&&!u?0:-1},e&&i.createElement("div",{style:c.loadingOverlay},i.createElement("svg",{style:c.loadingIcon(s),className:"animate-spin-modal",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},i.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),i.createElement("div",{style:c.walletInfoContainer},i.createElement("img",{src:t.logo,alt:"".concat(t.name," logo"),style:c.walletLogo}),i.createElement("span",{style:c.walletName},t.name)),!t.installed&&(t.downloadUrl?i.createElement("a",{href:t.downloadUrl,target:"_blank",rel:"noopener noreferrer"},"Download"):i.createElement("div",{style:c.notInstalledText(s)},"Not Installed")))})))):null;if(!N)return null;{let t=document.getElementById("wallet-modal-portal");return t||((t=document.createElement("div")).id="wallet-modal-portal",document.body.appendChild(t)),o.createPortal(j,t)}},M=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*****";return"string"==typeof t&&t?"".concat(null==t?void 0:t.substring(0,e)).concat(n).concat(null==t?void 0:t.substring((null==t?void 0:t.length)-e)):""};function a(t){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...t},i.createElement("path",{fill:"currentColor",d:"M13.34 8.17c-.93 0-1.69-.77-1.69-1.7a1.69 1.69 0 0 1 1.69-1.69c.94 0 1.7.76 1.7 1.69c0 .93-.76 1.7-1.7 1.7M10.3 19.93l-5.93-1.18l.34-1.7l4.15.85l1.35-6.86l-1.52.6v2.86H7v-3.96l4.4-1.87l.67-.08c.6 0 1.1.34 1.43.85l.86 1.35c.68 1.21 2.03 2.03 3.64 2.03v1.68c-1.86 0-3.56-.83-4.66-2.1l-.5 2.54l1.77 1.69V23h-1.69v-5.1l-1.78-1.69l-.84 3.72M21 23h-2V3H6v13.11l-2-.42V1h17v22M6 23H4v-3.22l2 .42V23Z"}))}class w{get installed(){return!1}disconnect(){this.address=void 0,this.publicKey=void 0}getAccount(){return this.address}isAuthorized(){return!!this.getAccount()}async getNetwork(){if(!this.network)throw Error("Something went wrong while connecting");return this.network}async getPublicKey(){if(!this.publicKey)throw Error("Something went wrong while connecting");return this.publicKey}constructor(t){this.ready=!1,this.connected=!1,this.address="",this.downloadUrl="",this.networks=["mainnet","testnet"],this.network=t}}class N extends w{get wallet(){return window.unisat}get installed(){return!!window.unisat}on(t,e){if(!this.wallet)throw Error("Unisat not installed");this.wallet.on(t,e)}removeListener(t,e){if(!this.wallet)throw Error("Unisat not installed");this.wallet.removeListener(t,e)}async connect(){this.connected=!1;try{if(!this.wallet)throw Error("Unisat not installed");return await this.requestAccounts(),await this.getCurrentInfo(),this.connected=!0,!0}catch(t){throw t}}async requestAccounts(){if(!this.wallet)throw Error("Unisat not installed");return this.wallet.requestAccounts()}async getCurrentInfo(){if(!this.wallet)throw Error("Unisat not installed");let t=await this.wallet.getAccounts();if(t.length){this.address=t[0];let[e,n,i]=await Promise.all([this.wallet.getPublicKey(),this.wallet.getNetwork(),this.wallet.getBalance()]);this.publicKey=e,this.network=n,this.banance=i,this.connected=!0}}async disconnect(){this.address=void 0,this.publicKey=void 0,this.connected=!1,this.banance={confirmed:0,unconfirmed:0,total:0}}async getAccounts(){if(!this.wallet)throw Error("Unisat not installed");return this.wallet.getAccounts()}async sendToAddress(t,e){var n;if(!this.wallet)throw Error("Unisat not installed");return null===(n=this.wallet)||void 0===n?void 0:n.sendBitcoin(t,e)}async switchNetwork(t){if(!this.wallet)throw Error("Unisat not installed");await this.wallet.switchNetwork(t)}async getPublicKey(){if(!this.wallet)throw Error("Unisat not installed");return this.wallet.getPublicKey()}async getBalance(){if(!this.wallet)throw Error("Unisat not installed");return this.wallet.getBalance()}async signPsbt(t,e){if(!this.wallet)throw Error("Unisat not installed");return this.wallet.signPsbt(t,e)}async signMessage(t){if(!this.wallet)throw Error("Unisat not installed");return this.wallet.signMessage(t)}async signPsbts(t,e){if(!this.wallet)throw Error("Unisat not installed");return this.wallet.signPsbts(t,e)}async pushTx(t){if(!this.wallet)throw Error("Unisat not installed");return this.wallet.pushTx({rawtx:t})}async pushPsbt(t){if(!this.wallet)throw Error("Unisat not installed");return this.wallet.pushPsbt(t)}constructor(t){super(t),this.id="unisat",this.name="Unisat",this.logo="data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjEwMHB4IiBoZWlnaHQ9IjEwMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iOTEuODc1NTY2NyUiIHkxPSIyOS43Mjg4NjIyJSIgeDI9IjUuNTkzNTkzODUlIiB5Mj0iNjcuNzM4NzI0OCUiIGlkPSJsaW5lYXJHcmFkaWVudC1leXZkOXN5Z2Z5LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMjAxQzFCIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3NzM5MEQiIG9mZnNldD0iMzYlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNFQTgxMDEiIG9mZnNldD0iNjclIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNEI4NTIiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMC41MTQwNjI0JSIgeTE9IjYyLjg4MzE2ODglIiB4Mj0iMTEwLjc4ODYyJSIgeTI9IjM3LjMyMTc0MDIlIiBpZD0ibGluZWFyR3JhZGllbnQtZXl2ZDlzeWdmeS0yIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzFGMUQxQyIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNzczOTBEIiBvZmZzZXQ9IjM3JSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRUE4MTAxIiBvZmZzZXQ9IjY3JSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjRGQjUyIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iNTAlIiBjeT0iNTAuMDQ1MDk4OCUiIGZ4PSI1MCUiIGZ5PSI1MC4wNDUwOTg4JSIgcj0iNTAuODMyODIzNiUiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC41MDAwMDAsMC41MDA0NTEpLHNjYWxlKDAuOTgzNjEyLDEuMDAwMDAwKSx0cmFuc2xhdGUoLTAuNTAwMDAwLC0wLjUwMDQ1MSkiIGlkPSJyYWRpYWxHcmFkaWVudC1leXZkOXN5Z2Z5LTMiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjRCODUyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNFQTgxMDEiIG9mZnNldD0iMzMlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3NzM5MEQiIG9mZnNldD0iNjQlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMyMTFDMUQiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNS4wMDAwMDAsIDYuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIiBpZD0iUGF0aCI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNDkuMzcxMDQwNiw3LjkwMTkzODMzIEw2Ny42OTU5OTYsMjUuNzU0MjQ5NyBDNjkuMjU1ODc2MiwyNy4yNzA2MjQ1IDcwLjAyMzYwMTgsMjguODA0OTc3OSA3MCwzMC4zNTExMzQgQzY5Ljk3NTI5MywzMS44OTcyOTAxIDY5LjMwNDE4NSwzMy4zMDY2MTcgNjcuOTkyMjk5MSwzNC41ODUxNTMzIEM2Ni42MTk4OSwzNS45MjMyNTIyIDY1LjEzODY0ODksMzYuNjAxMjIyMyA2My41NTQ2MTQzLDM2LjYzMDg2NjMgQzYxLjk3MDU3OTcsMzYuNjU0NzQ2MiA2MC4zOTg2MjIzLDM1LjkwNTQxMDkgNTguODM4NzQyMSwzNC4zODkwMzYxIEw0MC4wOTY3MTE2LDE2LjEzMjI4OTUgQzM3Ljk2ODUxNjgsMTQuMDU2OTMyNCAzNS45MTI5MjI1LDEyLjU4ODAxNTUgMzMuOTM1OTY3MiwxMS43MjU3MzA5IEMzMS45NTg4NzQ2LDEwLjg2MzQ0NjIgMjkuODc5MTI1OSwxMC43MjY2NzE5IDI3LjcwMjYyMjMsMTEuMzIxMzUwNSBDMjUuNTIwMDgwMSwxMS45MTAwODY2IDIzLjE4MDM5NywxMy40MjY1MTYzIDIwLjY3MTM1ODcsMTUuODY0NjY5NyBDMTcuMjEzMTYyMiwxOS4yMzY1NDE2IDE1LjU2MjU2NTgsMjIuNDAwMjE5MSAxNS43MzE5MjExLDI1LjM1NTgzOTMgQzE1LjkwMTEzOTEsMjguMzExMzIyMyAxNy42MTgxNjAyLDMxLjM3OTg5MTkgMjAuODc2OTQ1NiwzNC41NDk2MDc5IEwzOS43NzAyMTU1LDUyLjk2MDg4NzggQzQxLjM0ODIxMTUsNTQuNDk1MTAzOSA0Mi4xMjE5NzU4LDU2LjAyOTMyMDEgNDIuMDk3ODIxNCw1Ny41NTE3MzM1IEM0Mi4wNzM2NjcsNTkuMDgwMDQ4MyA0MS4zOTY1MjAzLDYwLjQ4OTUxMjQgNDAuMDYwMzQyOCw2MS43OTE3OTE0IEMzOC43MzAzNDExLDYzLjA4ODE2OTEgMzcuMjYxMTc3Miw2My43NjYxMzkxIDM1LjY2NTA2NTQsNjMuODE5NjYzMSBDMzQuMDY4OTUzNiw2My44NzMxODcxIDMyLjQ3ODg4MDQsNjMuMTI5ODkwMyAzMC45MDY5MjMsNjEuNTk1NTM2OSBMMTIuNTgxOTY3Nyw0My43NDMyMzkzIEM5LjYwMTM2OTYxLDQwLjg0MTI4MDIgNy40NDkwMzQxMywzOC4wOTM4NTQ0IDYuMTI1MDAyNDUsMzUuNTAwOTYxOSBDNC44MDA5NTcwNCwzMi45MDgyMDY2IDQuMzA1MjAxNywyOS45NzY0NjYzIDQuNjQ5ODEzNjIsMjYuNzA1NzQwOSBDNC45NTgxNTI3OCwyMy45MDQ3OTEyIDUuODcxMDY1NTksMjEuMTkzMDQ4IDcuMzk0NjMxODMsMTguNTY0NjEwMSBDOC45MTIxMzIwMywxNS45MzYwMzUgMTEuMDg4NjQ5NCwxMy4yNDgxMTY4IDEzLjkxMjEwNjYsMTAuNDk0NzQ4NSBDMTcuMjczNTQ4Miw3LjIxODA2Njg3IDIwLjQ4Mzg4NzYsNC43MDg1MjA3NSAyMy41NDMxMjQ3LDIuOTYwMTUzOSBDMjYuNTk2MzIzMywxLjIxMTc5OTQgMjkuNTUyNjI5NywwLjI0MjQ3MDk2MyAzMi40MDYyOCwwLjA0MDI4MDI0MjIgQzM1LjI2NTk2ODgsLTAuMTYxOTEwNzUzIDM4LjA4MzM4NzUsMC4zOTcwODc5NDUgNDAuODcwNDc1OSwxLjcxNzI3Mjc3IEM0My42NTc3MDE1LDMuMDM3NDYxNyA0Ni40ODcxOTc0LDUuMDk1MDU5NzggNDkuMzY1MDAyLDcuOTAxOTM4MzMgTDQ5LjM3MTA0MDYsNy45MDE5MzgzMyBaIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LWV5dmQ5c3lnZnktMSkiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMC42MjI5MTI2LDc5LjkzNTQ1MTUgTDIuMzA0MDIzMzYsNjIuMDgzMTUzOSBDMC43NDQxOTM5NTIsNjAuNTYwNzQwNCAtMC4wMjM2Mjk1NTQxLDU5LjAzMjQyNTcgMi4wNDU4MDg0OWUtMTUsNTcuNDg2MjY5NiBDMC4wMjQ3MzcyOTkzLDU1Ljk0MDExMzUgMC42OTU4Mjc1MSw1NC41MzA3ODY2IDIuMDA3Nzc1MTMsNTMuMjUyMTEzIEMzLjM4MDE4NDI0LDUxLjkxNDE1MTQgNC44NjE0MjUzOCw1MS4yMzYxODEzIDYuNDQ1NDMyNTIsNTEuMjA2NCBDOC4wMjk0NTMzOSw1MS4xODI2NTczIDkuNjAxMzY5NjEsNTEuOTI1OTU0MSAxMS4xNjEyMDg2LDUzLjQ0ODM2NzUgTDI5Ljg5NzI0MTcsNzEuNzA1MTE0MSBDMzIuMDMxNDc1MSw3My43ODA0NzExIDM0LjA4MTAzMDgsNzUuMjQ5MzYwNiAzNi4wNTc5ODYxLDc2LjExMTY0NTMgQzM4LjAzNTA3ODcsNzYuOTczOTI5OSA0MC4xMTQ4Mjc0LDc3LjEwNDcyMDUgNDIuMjk3MzY5Niw3Ni41MTU5NTcgQzQ0LjQ3OTkxMTgsNzUuOTI3MzMwNyA0Ni44MTk1OTQ5LDc0LjQxMDgxODYgNDkuMzI4NjMzMiw3MS45NjY2OTUzIEM1Mi43ODY5NjY5LDY4LjU5NDgyMzMgNTQuNDM3NDI2MSw2NS40MzExNDU5IDU0LjI2ODIwODEsNjIuNDc1NjYyOSBDNTQuMDk4ODUyOCw1OS41MjAwNDI2IDUyLjM4MTgzMTcsNTYuNDUxNDczMSA0OS4xMjMxODM2LDUzLjI3NTk5MjkgTDM5LjA1NjgzNzMsNDMuNTUyODg2MSBDMzcuNDc4ODQxMyw0Mi4wMTg2NyAzNi43MDQ5Mzk4LDQwLjQ4NDMxNjYgMzYuNzI5MDk0MiwzOC45NjIwNDA0IEMzNi43NTMyNDg2LDM3LjQzMzcyNTcgMzcuNDMwMzk1MiwzNi4wMjQyNjE1IDM4Ljc2NjU3MjcsMzQuNzIxOTgyNSBDNDAuMDk2NzExNiwzMy40MjU0Njc2IDQxLjU2NTg3NTYsMzIuNzQ3NjM0OCA0My4xNjE4NTAxLDMyLjY5NDExMDggQzQ0Ljc1Nzk2MTksMzIuNjQwNTg2OSA0Ni4zNDgwMzUxLDMzLjM4Mzg4MzYgNDcuOTE5OTkyNSwzNC45MTgyMzcgTDU3LjQxMTk4NTYsNDQuMDgyMjI0MyBDNjAuMzkyNTgzNyw0Ni45ODQxODM0IDYyLjU0NDkzMjksNDkuNzMxNjA5MiA2My44NjkwMzMyLDUyLjMyNDUwMTcgQzY1LjE5Mjk5NjMsNTQuOTE3MjU3IDY1LjY4ODcxMDQsNTcuODQ4OTk3MyA2NS4zNDQwOTg1LDYxLjExOTcyMjcgQzY1LjAzNTg1NTQsNjMuOTIwNjcyNCA2NC4xMjI5Mjg5LDY2LjYzMjQxNTYgNjIuNTk5MjgwMyw2OS4yNjA5OTA3IEM2MS4wODE4MDc1LDcxLjg4OTQyODYgNTguOTA1MzAzOSw3NC41Nzc0MjkxIDU2LjA4MTg0NjcsNzcuMzMwNzU2MyBDNTIuNzIwNDA1MSw4MC42MDczODMgNDkuNTEwMDY1Nyw4My4xMTY5NzAzIDQ2LjQ1MDgyODYsODQuODY1MjgyMiBDNDMuMzkxNTkxNCw4Ni42MTM3MzE0IDQwLjQzNTI4NSw4Ny41ODg5NjU0IDM3LjU3NTU5NjEsODcuNzkxMTIxMiBDMzQuNzE1OTA3Myw4Ny45OTM0MTQzIDMxLjg5ODQ4ODYsODcuNDM0Mjk0OSAyOS4xMTE0MDAyLDg2LjExNDE3NDUgQzI2LjMyNDE3NDUsODQuNzkzOTE3IDIzLjQ5NDY3ODcsODIuNzM2NDAxMiAyMC42MTY4NzQsNzkuOTI5NTUwMSBMMjAuNjIyOTEyNiw3OS45MzU0NTE1IFoiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtZXl2ZDlzeWdmeS0yKSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTMyLjA0OTU5MDksMzMuODcxNjM3OCBDMzUuNzY1OTM3NSwzMy44NzE2Mzc4IDM4Ljc3ODY0OTksMzAuOTA4MzMyMSAzOC43Nzg2NDk5LDI3LjI1Mjc4MzIgQzM4Ljc3ODY0OTksMjMuNTk3MzcxNSAzNS43NjU5Mzc1LDIwLjYzNDA2NTggMzIuMDQ5NTkwOSwyMC42MzQwNjU4IEMyOC4zMzMyNDQyLDIwLjYzNDA2NTggMjUuMzIwNTMxOCwyMy41OTczNzE1IDI1LjMyMDUzMTgsMjcuMjUyNzgzMiBDMjUuMzIwNTMxOCwzMC45MDgzMzIxIDI4LjMzMzI0NDIsMzMuODcxNjM3OCAzMi4wNDk1OTA5LDMzLjg3MTYzNzggWiIgZmlsbD0idXJsKCNyYWRpYWxHcmFkaWVudC1leXZkOXN5Z2Z5LTMpIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiPjwvcmVjdD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",this.networks=["mainnet","testnet"],this.homepage="https://unisat.io",this.banance={confirmed:0,unconfirmed:0,total:0}}}class d extends w{get wallet(){return window.sat20}get installed(){return!!window.sat20}on(t,e){if(!this.wallet)throw Error("SAT20 not installed");this.wallet.on(t,e)}removeListener(t,e){if(!this.wallet)throw Error("SAT20 not installed");this.wallet.removeListener(t,e)}async connect(){this.connected=!1;try{if(!this.wallet)throw Error("SAT20 not installed");return await this.requestAccounts(),await this.getCurrentInfo(),this.connected=!0,!0}catch(t){throw t}}async requestAccounts(){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.requestAccounts()}async getCurrentInfo(){if(!this.wallet)throw Error("SAT20 not installed");let t=await this.wallet.getAccounts();if(t.length){this.address=t[0];let[e,n,i]=await Promise.all([this.wallet.getPublicKey(),this.wallet.getNetwork(),this.wallet.getBalance()]);this.publicKey=e,this.network=n,this.banance=i,this.connected=!0}}async disconnect(){this.address=void 0,this.publicKey=void 0,this.connected=!1,this.banance={confirmed:0,unconfirmed:0,total:0}}async getAccounts(){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.getAccounts()}async sendToAddress(t,e){var n;if(!this.wallet)throw Error("SAT20 not installed");return null===(n=this.wallet)||void 0===n?void 0:n.sendBitcoin(t,e)}async switchNetwork(t){if(!this.wallet)throw Error("SAT20 not installed");await this.wallet.switchNetwork(t)}async getPublicKey(){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.getPublicKey()}async getBalance(){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.getBalance()}async signPsbt(t,e){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.signPsbt(t,e)}async signMessage(t){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.signMessage(t)}async signPsbts(t,e){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.signPsbts(t,e)}async pushTx(t){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.pushTx({rawtx:t})}async pushPsbt(t){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.pushPsbt(t)}async addAccounts(t){if(!this.wallet)throw Error("SAT20 not installed");return this.wallet.addAccounts(t)}constructor(t){super(t),this.id="sat20",this.name="SAT20",this.logo="data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDIwNy41OCAyMDguMDIiPjxwYXRoIGQ9Ik0yMjcsMTc2Ljc4Yy04LjE0LDQuMTYtMTYuMjcsOC4yMy0yMy42NCwxMy44M2ExMDIuNjUsMTAyLjY1LDAsMCwwLTI5LDM0LjgsMTAwLjUxLDEwMC41MSwwLDAsMC0xMS41NCw0NS41Yy0uMjEsMTEuODktNC4xLDIyLjQ2LTE0LDI5LjUzLTEyLjUzLDguOTQtMjUuMjQsMTAuMi0zOS4yLDEuODMtMTIuNzEtNy42MS0xOC43NS0yMy41My0xNS4xLTM3LjcsMy43MS0xNC4zNiwxNS4yMS0yNC40LDI5LjY5LTI1LjY3LDkuMjEtLjgxLDE4LjE3LTIuMDcsMjUuNTYtOC40MiwxMC44My05LjMyLDE1LjA5LTIxLjA2LDExLjYyLTM0Ljg1LTMuNjctMTQuNjMtMTMuNTYtMjMuMjMtMjguNDQtMjUuODYtNy0xLjI0LTE0LjIxLTEuMDgtMjAuNzctNC42NS0xMi4zLTYuNjctMTguNzMtMTcuMDYtMTguNTgtMzAuNzUuMTctMTUuNDksOC0yNi43MiwyMi41OC0zMi4xMSwxMy4wOC00LjgzLDI1LjM5LTIuMzIsMzUuNjEsNy4zOCw3LjU3LDcuMTgsMTAuNjUsMTYuNDUsMTEuMjIsMjYuODMsMSwxNy45MywxMy42OCwzMC41OCwzMi4xMiwzMi40OCwxNS42MiwxLjYxLDMxLjUyLTEwLDM1LjU0LTI2LjE0QTc4LDc4LDAsMCwwLDIzMi4xMSwxMzFjMS4wOS0xMi42LDEwLjY5LTI1LjYyLDIyLjkxLTI4Ljc4LDcuODUtMiwxNi4yOC0zLDI0LjI2LjY2LTEuNDMsNS42OS01LjU4LDkuODItOC40MSwxNC43Mi0zLjI1LDEuMzYtNi44NS44OS0xMC4xOSwyLjEtNy42OCwyLjc4LTExLjUyLDkuMDktMTAuMDcsMTcuMTQuMzQsMS45NCwxLjQxLDMuNzcuODgsNS44NC05LjQ5LDkuMjEtMTYuMDUsMjAuNTUtMjMsMzEuNkMyMjgsMTc1LjA2LDIyNy43NywxNzYuMDksMjI3LDE3Ni43OFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05My40NSAtOTkuODcpIiBmaWxsPSIjOTQ1ZWY4Ii8+PHBhdGggZD0iTTE4OC44MywyNTAuODVhNTUuNzIsNTUuNzIsMCwwLDEsNTYuNTEtNTUuNzNjMzIuMDkuMjUsNTUuMjksMjYuNiw1NS42Niw1Ni41My4zOCwzMC45LTI1LjMxLDU2LjExLTU2LjMzLDU2LjFDMjEzLjMyLDMwNy43NCwxODguODIsMjgyLjc3LDE4OC44MywyNTAuODVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtOTMuNDUgLTk5Ljg3KSIgZmlsbD0iIzllNGVmNSIvPjxwYXRoIGQ9Ik0yNzAuODIsMTE3LjQ1YzEuMTktNS44Miw1LjQ1LTkuODYsOC40Ni0xNC42MiwyMC43Nyw3LjE2LDI4LjYzLDM1LDE0Ljg2LDUyLjM1LTcuMjgsOS4xOC0xNi42MSwxMy44Ni0yOC4zNSwxNC0xMy4zOS4xMi0yNi4yNiwzLjExLTM4LjgsNy42NC0uMTUtNi4xMSw0LjY2LTkuNzEsNy40Mi0xNC4yOCwzLjQyLTUuNjYsNy42OC0xMC44LDExLjQxLTE2LjI3LDEuMzEtMS45MiwyLjYtMy40NCw1LjEzLTMuMTksMywyLjU4LDYuMDcsNS4wOCw5LjkyLDYuNDZhMTUuNjUsMTUuNjUsMCwwLDAsMTkuNTctNy4zYzQtNy41NywyLjA4LTE1Ljg1LTQuOC0yMC43NUMyNzMuOTQsMTIwLjI0LDI3MS40OSwxMTkuOSwyNzAuODIsMTE3LjQ1WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTkzLjQ1IC05OS44NykiIGZpbGw9IiM5ZTRlZjUiLz48cGF0aCBkPSJNMjcwLjgyLDExNy40NWM0LjI1LDIuMjEsOC41MSw0LjMzLDEwLjg4LDguOTQsMy40MSw2LjY2LDIuNywxNC0yLjEzLDE5LjQxLTUuMTUsNS43Ni0xMi40Miw3LjY5LTE5LjM1LDQuNzQtMy43Mi0xLjU4LTcuOC0zLTkuMjctNy41LTEuNjUtNS44NS0zLjMxLTExLjY1LjI1LTE3LjQ5QzI1NS43OSwxMTgsMjYyLjg5LDExNi43OCwyNzAuODIsMTE3LjQ1WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTkzLjQ1IC05OS44NykiIGZpbGw9IiNmY2ZiZmUiLz48cGF0aCBkPSJNMTI4LjI0LDI1NS44MmExNy4xNywxNy4xNywwLDAsMS0uNTIsMzQuMzRjLTkuMDctLjIxLTE3LjIyLTYuNTMtMTcuMjgtMTcuMjlDMTEwLjM5LDI2My40NiwxMTguNjgsMjU1LjYsMTI4LjI0LDI1NS44MloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05My40NSAtOTkuODcpIiBmaWxsPSIjZmNmYmZlIi8+PHBhdGggZD0iTTExMC45MiwxMzQuNDlhMTcuNTEsMTcuNTEsMCwwLDEsMTctMTcuMzNjOS4xOC0uMSwxNy4xOCw3Ljg2LDE3LjI2LDE3LjE3LjA4LDkuNjEtOCwxNy44LTE3LjM1LDE3LjYyQTE3LjU3LDE3LjU3LDAsMCwxLDExMC45MiwxMzQuNDlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtOTMuNDUgLTk5Ljg3KSIgZmlsbD0iI2ZjZmJmZSIvPjwvc3ZnPg==",this.networks=["mainnet","testnet"],this.homepage="https://sat20.org",this.downloadUrl="https://github.com/sat20-labs/sat20wallet/releases/download/0.0.1/sat20wallet-chrome.zip",this.banance={confirmed:0,unconfirmed:0,total:0}}}class u extends w{get wallet(){var t;return null===(t=window.okxwallet)||void 0===t?void 0:t.bitcoin}get installed(){return!!window.okxwallet}on(t,e){if("mainnet"===this.network){var n;null===(n=this.wallet)||void 0===n||n.on(t,e)}}async connect(){this.connected=!1;try{if(!this.wallet)throw Error("OkxWallet not installed");let t=await this.wallet.connect();this.connected=!0,this.address=t.address,this.publicKey=t.publicKey,await this.switchNetwork("mainnet"),await this.getCurrentInfo()}catch(t){throw t}return this.connected}async getCurrentInfo(){if(!this.wallet)throw Error("OkxWallet not installed");let t=await this.wallet.getAccounts();if(t.length){this.address=t[0];let[e,n,i]=await Promise.all([this.wallet.getPublicKey(),this.wallet.getNetwork(),this.wallet.getBalance()]);this.publicKey=e,this.banance=i,this.connected=!0}}async disconnect(){this.address=void 0,this.publicKey=void 0,this.connected=!1,this.banance={confirmed:0,unconfirmed:0,total:0}}async getAccounts(){if(!this.wallet)throw Error("OkxWallet not installed");return this.wallet.getAccounts()}async getNetwork(){return this.network}async getPublicKey(){if(!this.wallet)throw Error("OkxWallet not installed");return this.wallet.getPublicKey()}async getBalance(){if(!this.wallet)throw Error("OkxWallet not installed");return this.wallet.getBalance()}async sendToAddress(t,e){var n;if(!this.wallet)throw Error("OkxWallet not installed");return null===(n=this.wallet)||void 0===n?void 0:n.sendBitcoin(t,e)}async switchNetwork(t){if(!this.wallet)throw Error("Unisat not installed");switch(t){case"mainnet":break;case"testnet":throw Error("no implementation for okx testnet")}this.network=t}async signPsbt(t,e){if(!this.wallet)throw Error("OkxWallet not installed");return this.wallet.signPsbt(t,e)}async signMessage(t){if(!this.wallet)throw Error("OkxWallet not installed");return this.wallet.signMessage(t)}async signPsbts(t,e){if(!this.wallet)throw Error("OkxWallet not installed");return this.wallet.signPsbts(t,e)}async pushTx(t){if("mainnet"!==this.network)throw Error("Can't get accounts on testnet");if(!this.wallet)throw Error("OkxWallet not installed");return this.wallet.pushTx(t)}async pushPsbt(t){if("mainnet"!==this.network)throw Error("Can't get accounts on testnet");if(!this.wallet)throw Error("OkxWallet not installed");return this.wallet.pushPsbt(t)}constructor(t){super(t),this.id="okx",this.name="OKX",this.logo="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxuczp4b2RtPSJodHRwOi8vd3d3LmNvcmVsLmNvbS9jb3JlbGRyYXcvb2RtLzIwMDMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjUwMCAyNTAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNTAwIDI1MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7fQoJLnN0MXtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8ZyBpZD0iTGF5ZXJfeDAwMjBfMSI+Cgk8ZyBpZD0iXzIxODczODEzMjM4NTYiPgoJCTxyZWN0IHk9IjAiIGNsYXNzPSJzdDAiIHdpZHRoPSIyNTAwIiBoZWlnaHQ9IjI1MDAiPjwvcmVjdD4KCQk8Zz4KCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTE0NjMsMTAxNWgtNDA0Yy0xNywwLTMxLDE0LTMxLDMxdjQwNGMwLDE3LDE0LDMxLDMxLDMxaDQwNGMxNywwLDMxLTE0LDMxLTMxdi00MDQgICAgIEMxNDk0LDEwMjksMTQ4MCwxMDE1LDE0NjMsMTAxNXoiPjwvcGF0aD4KCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTk5Niw1NDlINTkyYy0xNywwLTMxLDE0LTMxLDMxdjQwNGMwLDE3LDE0LDMxLDMxLDMxaDQwNGMxNywwLDMxLTE0LDMxLTMxVjU4MEMxMDI3LDU2MywxMDEzLDU0OSw5OTYsNTQ5eiI+PC9wYXRoPgoJCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTkzMCw1NDloLTQwNGMtMTcsMC0zMSwxNC0zMSwzMXY0MDRjMCwxNywxNCwzMSwzMSwzMWg0MDRjMTcsMCwzMS0xNCwzMS0zMVY1ODAgICAgIEMxOTYxLDU2MywxOTQ3LDU0OSwxOTMwLDU0OXoiPjwvcGF0aD4KCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTk5NiwxNDgySDU5MmMtMTcsMC0zMSwxNC0zMSwzMXY0MDRjMCwxNywxNCwzMSwzMSwzMWg0MDRjMTcsMCwzMS0xNCwzMS0zMXYtNDA0ICAgICBDMTAyNywxNDk2LDEwMTMsMTQ4Miw5OTYsMTQ4MnoiPjwvcGF0aD4KCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTE5MzAsMTQ4MmgtNDA0Yy0xNywwLTMxLDE0LTMxLDMxdjQwNGMwLDE3LDE0LDMxLDMxLDMxaDQwNGMxNywwLDMxLTE0LDMxLTMxdi00MDQgICAgIEMxOTYxLDE0OTYsMTk0NywxNDgyLDE5MzAsMTQ4MnoiPjwvcGF0aD4KCQk8L2c+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==",this.networks=["mainnet"],this.homepage="https://www.okx.com/web3/build/docs/sdks/chains/bitcoin/provider",this.banance={confirmed:0,unconfirmed:0,total:0},this.network="mainnet"}}class g{get connector(){var t;if(this.connectorId)return null===(t=this.connectors.find(t=>t.id===this.connectorId&&t.instance.installed))||void 0===t?void 0:t.instance}switchConnector(t){var e;let n=null===(e=this.connectors.find(e=>e.id===t&&e.instance.installed))||void 0===e?void 0:e.instance;if(!n){this.reset(),console.error("switchConnector: Connector not found: "+t);return}return this.connectorId=t,n}async connect(){if(!this.connector){this.reset(),console.error("connect: Connector not found");return}return this.connected=await this.connector.connect(),this.connected&&(this.address=this.connector.address,this.publicKey=this.connector.publicKey,this.balance=this.connector.banance,this.network=this.connector.network),localStorage.setItem(this.local_storage_key,this.connectorId||""),localStorage.removeItem(this.local_disconnect_key),this.connected}async getCurrentInfo(){if(!this.connector){this.reset(),console.error("getCurrentInfo: Connector not found");return}try{this.connector.getCurrentInfo&&(await this.connector.getCurrentInfo(),this.address=this.connector.address,this.publicKey=this.connector.publicKey,this.network=this.connector.network,this.balance=this.connector.banance,this.connected=this.connector.connected)}catch(t){throw t}}async check(){var t;if(this.disConnectStatus)return!1;if(this.connectorId=this.localConnectorId||this.connectorId,!(null===(t=this.connectors.find(t=>t.id===this.connectorId&&t.instance.installed))||void 0===t?void 0:t.instance)){this.reset(),console.error("check: Connector not found");return}try{await this.getCurrentInfo()}catch(t){console.error(t)}}async disconnect(){if(!this.connector){this.reset(),console.error("disconnect: Connector not found");return}await this.connector.disconnect(),this.reset()}async getAccounts(){if(!this.connector){this.reset(),console.error("getAccounts: Connector not found");return}return this.connector.getAccounts()}reset(){this.connectorId=void 0,this.connected=!1,this.address=void 0,this.publicKey=void 0,this.balance={confirmed:0,unconfirmed:0,total:0},localStorage.setItem(this.local_disconnect_key,"1")}async getNetwork(){if(!this.connector){this.reset(),console.error("getNetwork: Connector not found");return}return this.connector.network}async switchNetwork(t){if(!this.connector){this.reset(),console.error("switchNetwork: Connector not found");return}await this.connector.switchNetwork(t),this.network=t,await this.getCurrentInfo()}async sendToAddress(t,e){if(!this.connector){this.reset(),console.error("sendToAddress: Connector not found");return}if(e<=0){console.error("sendToAddress: Invalid amount");return}return this.connector.sendToAddress(t,e)}async signMessage(t,e){if(!this.connector){this.reset(),console.error("signMessage: Connector not found");return}return this.connector.signMessage(t)}async signPsbt(t,e){if(!this.connector){this.reset(),console.error("signPsbt: Connector not found");return}return this.connector.signPsbt(t,e)}async signPsbts(t,e){if(!this.connector){this.reset(),console.error("signPsbts: Connector not found");return}return this.connector.signPsbts(t,e)}async pushTx(t){if(!this.connector){this.reset(),console.error("pushTx: Connector not found");return}return this.connector.pushTx(t)}async pushPsbt(t){if(!this.connector){this.reset(),console.error("pushPsbt: Connector not found");return}return this.connector.pushPsbt(t)}on(t,e){this.connector&&(this.connector instanceof d?this.connector.on(t,e):this.connector instanceof N?this.connector.on(t,e):this.connector instanceof u&&this.connector.on(t,e))}removeListener(t,e){if(this.connector){if(this.connector instanceof d)this.connector.removeListener(t,e);else if(this.connector instanceof N)this.connector.removeListener(t,e);else if(this.connector instanceof u)return}}addAccounts(t){if(!this.connector)return console.error("addAccounts: Connector not found"),this.reset(),!1;if(this.connector instanceof d)this.connector.addAccounts(t);else if(this.connector instanceof N)return console.error("no implement"),!1;else if(this.connector instanceof u)return console.error("no implement"),!1}constructor({network:t="mainnet",enabledConnectors:e=["sat20","unisat","okx"]}){this.local_storage_key="_btc_connector_id_1",this.local_disconnect_key="_btc_disconnect_status_1",this.disConnectStatus=!1,this.connected=!1,this.balance={confirmed:0,unconfirmed:0,total:0},this.network=t;let n=[{id:"sat20",instance:new d(this.network)},{id:"unisat",instance:new N(this.network)},{id:"okx",instance:new u(this.network)}];(null==e?void 0:e.length)?this.connectors=n.filter(t=>e.includes(t.id)):this.connectors=n,this.localConnectorId=localStorage.getItem(this.local_storage_key)||void 0,this.disConnectStatus="1"==localStorage.getItem(this.local_disconnect_key)}}var I={initStatus:!1,modalVisible:!1,balance:{confirmed:0,unconfirmed:0,total:0},connectors:[],publicKey:"",address:"",connected:!1,network:"mainnet"},D=(0,s.Ue)()((0,r.mW)((t,e)=>({...I,setModalVisible:e=>{t(()=>({modalVisible:e}))},init:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let{network:n="mainnet"}=e,i=new g(e);window.btcWallet=i,t(()=>({btcWallet:i,network:n,connector:i.connector,localConnectorId:i.localConnectorId,connectors:i.connectors.map(t=>({id:t.id,name:t.instance.name,logo:t.instance.logo,downloadUrl:t.instance.downloadUrl,connector:t.instance,get installed(){return t.instance.installed}})),initStatus:!0}))}catch(e){throw console.error("Error initializing Wallet",e),t(()=>({initStatus:!1})),e}},switchConnector(n){let i=e().btcWallet;if(!i)throw Error("Wallet not initialized");i.switchConnector(n),t(()=>({connectorId:n,connector:i.connector,localConnectorId:i.localConnectorId}))},check:async()=>{try{let n=e().btcWallet;if(!n)throw Error("Wallet not initialized");await n.check();let i=n.address,o=n.publicKey,s=n.balance,r=n.connected,c=n.network,l=n.localConnectorId;t(t=>({publicKey:o,address:i,balance:s,connected:r,network:c,localConnectorId:l}))}catch(t){throw t}},connect:async()=>{try{let n=e().btcWallet;if(!n)throw Error("Wallet not initialized");await n.connect();let i=n.address,o=n.publicKey,s=n.balance,r=n.connected,c=n.network,l=n.localConnectorId;t(t=>({publicKey:o,address:i,balance:s,connected:r,network:c,localConnectorId:l}))}catch(t){throw console.error("Error connecting Wallet",t),t}},disconnect:async()=>{let{btcWallet:n}=e();if(!n)throw Error("Wallet not initialized");await n.disconnect(),t(t=>({balance:{confirmed:0,unconfirmed:0,total:0},connectorId:void 0,publicKey:"",address:"",initStatus:!1,connected:!1,network:"mainnet"}))},switchNetwork:async()=>{try{let n=e().btcWallet;if(!n)throw Error("Wallet not initialized");let i="testnet"===e().network?"mainnet":"testnet";await n.switchNetwork(i);let o=await n.getNetwork(),s=n.address,r=n.publicKey,c=n.balance,l=n.connected,M=n.localConnectorId;t(t=>({publicKey:r,address:s,balance:c,connected:l,localConnectorId:M,network:o}))}catch(t){throw t}}}))),h={buttonBase:{borderWidth:"1px",borderStyle:"solid",borderRadius:"0.75rem",height:"2.5rem",paddingLeft:"1rem",paddingRight:"1rem",lineHeight:"1",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",cursor:"pointer",transition:"border-color 0.2s ease",display:"inline-flex",alignItems:"center",justifyContent:"center"},connectButtonTheme:t=>({backgroundImage:"dark"===t?"linear-gradient(to right, #ec4899, #8b5cf6)":"linear-gradient(to right, #3b82f6, #22c55e)",borderColor:"dark"===t?"#4b5563":"#d1d5db"}),disconnectButtonTheme:t=>({backgroundImage:"dark"===t?"linear-gradient(to right, #ec4899, #8b5cf6)":"linear-gradient(to right, #3b82f6, #22c55e)",borderColor:"#d1d5db"}),buttonHover:{borderColor:"#f59e0b"},disconnectButtonLayout:{display:"flex",justifyContent:"center",alignItems:"center"},disconnectText:{marginRight:"0.25rem"},exitIcon:t=>({color:"dark"===t?"#ffffff":"#000000",width:"1em",height:"1em"})},y=t=>{let{config:{network:e="mainnet",enabledConnectors:n}={},theme:o="dark",isSwitchNetwork:s=!1,ui:{connectClass:r="",disconnectClass:c="",modalClass:w="",modalZIndex:N=100}={},text:{connectText:d="Connect",disconnectText:u="Disconnect",modalTitle:g="Select Wallet"}={},onConnectSuccess:I,onConnectError:y,onDisconnectSuccess:T,onDisconnectError:j,children:L}=t,{connect:z,modalVisible:x,setModalVisible:C,connectors:A,connected:m,address:E,init:O,disconnect:k,initStatus:b,btcWallet:S,switchNetwork:f,switchConnector:Y}=D(t=>t),[Q,U]=(0,i.useState)(!1),[v,p]=(0,i.useState)(!1),Z=async t=>{Y(t);try{s&&await (null==S?void 0:S.switchNetwork(e)),console.log("walletSelect"),await z(),S&&(null==I||I(S))}catch(t){null==y||y(t)}finally{C(!1)}},B=async()=>{try{null==T||T(),k()}catch(t){null==j||j(t)}},P=(0,i.useMemo)(()=>(null==A?void 0:A.map(t=>({id:t.id,name:t.name,logo:t.logo,downloadUrl:t.connector.downloadUrl,get installed(){return t.installed}})))||[],[A]);return(0,i.useEffect)(()=>{O({network:e,enabledConnectors:n})},[]),(0,i.useEffect)(()=>{O({network:e,enabledConnectors:n})},[e]),i.createElement(i.Fragment,null,m?L||i.createElement("button",{onClick:B,style:{...h.buttonBase,...h.disconnectButtonTheme(o),...h.disconnectButtonLayout,...v?h.buttonHover:{}},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),className:c},i.createElement("span",{style:h.disconnectText},M(E,4,"***")),i.createElement(a,{style:h.exitIcon(o)})):i.createElement(i.Fragment,null,i.createElement("button",{onClick:()=>{C(!0)},style:{...h.buttonBase,...h.connectButtonTheme(o),...Q?h.buttonHover:{}},onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),className:r},d),i.createElement(l,{theme:o,className:w,zIndex:N,title:g,onClose:()=>C(!1),visible:x,wallets:P,onClick:Z})))}}}]);