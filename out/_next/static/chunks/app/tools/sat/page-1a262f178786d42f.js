(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9550],{52368:function(e,t,a){Promise.resolve().then(a.bind(a,8820))},8820:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var s=a(57437),r=a(65703),i=a(59430),n=a(65647),l=a(24112),o=a(55448),d=a(62121),c=a(90720),u=a(86778),m=a(75945),f=a(20293),h=a(40884),p=a(12308),g=a(29629),v=a(9139),x=a(964),b=a(1271),w=a(24842),j=a(16463),y=a(2265),N=a(90089),_=a(46807),k=a(52975);function S(){let{t:e,i18n:t}=(0,N.$G)(),a=(0,j.useSearchParams)().get("txid"),[S,P]=(0,y.useState)(!1),{feeRate:z}=(0,n.Ee)(e=>e),{address:C,network:I,publicKey:Z}=(0,w.$)(e=>e),[W,{set:E}]=(0,_.Z)([]),[A,G]=(0,y.useState)(""),[T,{set:J}]=(0,k.Z)({items:[]}),[R,O]=(0,y.useState)(!1),M="testnet"===I?"tb1pttjr9292tea2nr28ca9zswgdhz0dasnz6n3v58mtg9cyf9wqr49sv8zjep":"bc1pwdm870vha822ux4084dxsh899apan7ugwj6f4yu9ntzrk7sled7q06ck8a",V=(e,t)=>{T.items[e-1].sat=t,J("items",T.items)},B=()=>{let e=T.items.length+1;J("items",[...T.items,{id:e,sat:""}])},D=e=>{if(T.items.length>1){let t=T.items.filter(t=>t.id!==e);t.forEach((e,t)=>{e.id=t+1}),J("items",t)}},q=async()=>{R?U():H()},U=async()=>{P(!0);try{let t=await F();if(t&&""!==t.txid){if(0===t.status||1===t.status){P(!1),b.ZP.info({message:e("notification.search_sats_title"),description:"The task for searching sats is processing."});return}if(2===t.status){let e=JSON.parse(t.result);P(!1),E(e);return}if(-1===t.status){P(!1),b.ZP.info({message:e("notification.search_sats_title"),description:"The task for searching sats is processing."});return}}let a=await K();if(!a){P(!1),b.ZP.error({message:e("notification.search_sats_title"),description:"Search sats in global failed: There is not enough sats to pay."});return}let s=null==a?void 0:a.value,n=[{txid:a.txid,vout:a.vout,value:a.value}],l=await L(a);if(s-1e5-l<0){P(!1),b.ZP.error({message:e("notification.transaction_title"),description:"There is no enough sats"});return}await (0,i.cq)({utxos:n,outputs:[{address:M||"",value:1e5}],feeRate:z.value,network:I,address:C,publicKey:Z});let o=JSON.stringify({sat_no:T.items[0].sat}),d=await (0,r.ty)({address:C,fees:1e5,parameters:o,txid:"a2f42b3860bf09f4ef59d550d682a0c3cac2f74adcf90c04ff8da6777c519d42",type:"search_rarity_sats"});P(!1),200===d.code?b.ZP.success({message:e("notification.search_sats_title"),description:"Split & Send success"}):b.ZP.error({message:e("notification.search_sats_title"),description:d.msg||"Search sats in global failed"})}catch(t){console.log("error(search sats) = ",t),P(!1),b.ZP.error({message:e("notification.search_sats_title"),description:t.message||"Search sats in global failed"})}},F=async()=>{let e;let t=JSON.stringify({sat_no:T.items[0].sat}),a=await (0,r.lk)({address:C,parameters:t,type:"search_rarity_sats"});return 200===a.code&&(e=a.data),e},H=async()=>{P(!0),E([]);let t=await (0,r.MZ)({address:A,sats:T.items.map(e=>Number(e.sat)),network:I});if(0!==t.code){P(!1),b.ZP.error({message:e("notification.search_sats_title"),description:t.msg});return}if(null===t.data){P(!1),b.ZP.error({message:e("notification.search_sats_title"),description:"No data"});return}P(!1),E(t.data)},K=async()=>{let e;let t=await (0,r.wt)({address:C,value:0,network:I});if(0===t.code){let a=t.data.sort((e,t)=>e.value-t.value);for(let t=0;t<a.length;t++){let s=a[t];if(s.value>1e5&&await L(s)>0){e=s;break}}}return e},L=async e=>{let t=e.value,a=[{txid:e.txid,vout:e.vout,value:e.value}],s=await (0,i.QV)({utxos:a,outputs:[{address:M||"",value:1e5}],feeRate:z.value,network:I,address:C,publicKey:Z});return t-1e5-s<0&&(s=-1),s},Y=e=>{O(e),T.items.length>0&&J("items",[T.items[0]]),G("")};return(0,y.useEffect)(()=>{a?(J("items",[{id:1,sat:"1234567890"}]),O(!0)):J("items",[{id:1,sat:""}])},[C,a]),(0,s.jsxs)("div",{className:"flex flex-col max-w-7xl mx-auto pt-8",children:[(0,s.jsx)(l.w,{children:(0,s.jsxs)(o.G,{children:[T.items.map((e,t)=>(0,s.jsxs)("div",{className:"flex w-full gap-2 pb-2",children:[(0,s.jsx)(d.Y,{className:"w-[90%]",value:e.sat,startContent:(0,s.jsx)("div",{className:"pointer-events-none flex items-center w-[19%] bg-gray-500 justify-center h-full",children:(0,s.jsx)("span",{className:"text-small txt-default-500",children:"Sat"})}),onChange:t=>V(e.id,t.target.value)}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.A,{radius:"full",onClick:B,children:(0,s.jsx)(u.J,{radius:"full",src:"../icon/add.svg",alt:"logo",className:"w-10 h-10 p-1 rounded-full "})}),(0,s.jsx)(c.A,{radius:"full",onClick:()=>D(e.id),children:(0,s.jsx)(u.J,{radius:"full",src:"../icon/del.svg",alt:"logo",className:"w-10 h-10 p-1 rounded-full "})})]})]},t)),(0,s.jsx)(m.j,{className:"mt-4 mb-4"}),(0,s.jsx)("div",{className:"flex w-full",children:(0,s.jsx)(d.Y,{value:A,onChange:e=>G(e.target.value),isDisabled:R,startContent:(0,s.jsx)("div",{className:"pointer-events-none flex items-center w-[16%] bg-gray-500 justify-center h-full",children:(0,s.jsx)("span",{className:"text-small txt-default-500",children:"BTC Address"})})})}),(0,s.jsx)(m.j,{className:"mt-4 mb-4"}),(0,s.jsxs)("div",{className:"flex gap-2 pb-2 justify-end",children:[(0,s.jsx)(f.i,{defaultSelected:R,onValueChange:()=>Y(!R),children:(0,s.jsx)("p",{className:"text-gray-400 font-thin",children:"Search In Global(Fee: 100,000 Sats)"})}),(0,s.jsx)(c.A,{size:"md",color:"primary",onKeyDown:function(e){"Enter"===e.key&&q()},isLoading:S,onClick:q,children:"Search"})]})]})}),(0,s.jsx)(m.j,{className:"mt-4 mb-4"}),(0,s.jsxs)(l.w,{children:[(0,s.jsx)(h.u,{children:(0,s.jsx)("h1",{children:e("pages.tools.search_sat.table_title")})}),(0,s.jsx)(m.j,{}),(0,s.jsx)(o.G,{children:(0,s.jsxs)(p.b,{isHeaderSticky:!0,isStriped:!0,color:"primary",selectionMode:"single",children:[(0,s.jsxs)(g.J,{children:[(0,s.jsx)(v.j,{className:"text-sm md:text-base font-thin",children:e("pages.tools.search_sat.table_col1")}),(0,s.jsx)(v.j,{className:"text-sm md:text-base font-thin",children:e("pages.tools.search_sat.table_col2")}),(0,s.jsx)(v.j,{className:"text-sm md:text-base font-thin",children:e("pages.tools.search_sat.table_col3")}),(0,s.jsx)(v.j,{className:"text-sm md:text-base font-thin",children:e("pages.tools.search_sat.table_col4")})]}),(0,s.jsx)(x.y,{emptyContent:"No datas.",children:W.map((e,t)=>(0,s.jsx)(v.j,{className:"text-sm md:text-base",children:e.sat},t))})]})})]})]})}},16463:function(e,t,a){"use strict";var s=a(71169);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},40884:function(e,t,a){"use strict";a.d(t,{u:function(){return d}});var s=a(66265),r=a(62957),i=a(26242),n=a(65263),l=a(57437),o=(0,r.Gp)((e,t)=>{var a;let{as:r,className:o,children:d,...c}=e,u=(0,i.gy)(t),{slots:m,classNames:f}=(0,s.R)(),h=(0,n.W)(null==f?void 0:f.header,o);return(0,l.jsx)(r||"div",{ref:u,className:null==(a=m.header)?void 0:a.call(m,{class:h}),...c,children:d})});o.displayName="NextUI.CardHeader";var d=o},75945:function(e,t,a){"use strict";a.d(t,{j:function(){return d}});var s=a(75300),r=(0,a(2068).tv)({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),i=a(2265),n=a(55971),l=a(57437),o=(0,n.Gp)((e,t)=>{let{Component:a,getDividerProps:n}=function(e){var t;let a,n;let{as:l,className:o,orientation:d,...c}=e,u=l||"hr";"hr"===u&&"vertical"===d&&(u="div");let{separatorProps:m}=(t={elementType:"string"==typeof u?u:"hr",orientation:d},n=(0,s.z)(t,{enabled:"string"==typeof t.elementType}),("vertical"===t.orientation&&(a="vertical"),"hr"!==t.elementType)?{separatorProps:{...n,role:"separator","aria-orientation":a}}:{separatorProps:n}),f=(0,i.useMemo)(()=>r({orientation:d,className:o}),[d,o]);return{Component:u,getDividerProps:(0,i.useCallback)((e={})=>({className:f,role:"separator","data-orientation":d,...m,...c,...e}),[f,d,m,c])}}({...e});return(0,l.jsx)(a,{ref:t,...n()})});o.displayName="NextUI.Divider";var d=o},86778:function(e,t,a){"use strict";a.d(t,{J:function(){return h}});var s=a(2265),r=a(12094),i=a(62957),n=(0,a(2068).tv)({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),l=a(26242),o=a(36222),d=a(65263),c=a(53640),u=a(25137),m=a(57437),f=(0,i.Gp)((e,t)=>{let{Component:a,domRef:f,slots:h,classNames:p,isBlurred:g,isZoomed:v,fallbackSrc:x,removeWrapper:b,disableSkeleton:w,getImgProps:j,getWrapperProps:y,getBlurredImgProps:N}=function(e){var t,a;let m=(0,r.w)(),[f,h]=(0,i.oe)(e,n.variantKeys),{ref:p,as:g,src:v,className:x,classNames:b,loading:w,isBlurred:j,fallbackSrc:y,isLoading:N,disableSkeleton:_=!!y,removeWrapper:k=!1,onError:S,onLoad:P,srcSet:z,sizes:C,crossOrigin:I,...Z}=f,W=(0,u.d)({src:v,loading:w,onError:S,onLoad:P,ignoreFallback:!1,srcSet:z,sizes:C,crossOrigin:I}),E=null!=(a=null!=(t=e.disableAnimation)?t:null==m?void 0:m.disableAnimation)&&a,A="loaded"===W&&!N,G="loading"===W||N,T=e.isZoomed,J=(0,l.gy)(p),{w:R,h:O}=(0,s.useMemo)(()=>({w:f.width?"number"==typeof f.width?"".concat(f.width,"px"):f.width:"fit-content",h:f.height?"number"==typeof f.height?"".concat(f.height,"px"):f.height:"auto"}),[null==f?void 0:f.width,null==f?void 0:f.height]),M=(!v||!A)&&!!y,V=G&&!_,B=(0,s.useMemo)(()=>n({...h,disableAnimation:E,showSkeleton:V}),[(0,o.Xx)(h),E,V]),D=(0,d.W)(x,null==b?void 0:b.img),q=(0,s.useCallback)(()=>{let e=M?{backgroundImage:"url(".concat(y,")")}:{};return{className:B.wrapper({class:null==b?void 0:b.wrapper}),style:{...e,maxWidth:R}}},[B,M,y,null==b?void 0:b.wrapper]),U=(0,s.useCallback)(()=>({src:v,"aria-hidden":(0,c.PB)(!0),className:B.blurredImg({class:null==b?void 0:b.blurredImg})}),[B,v,null==b?void 0:b.blurredImg]);return{Component:g||"img",domRef:J,slots:B,classNames:b,isBlurred:j,disableSkeleton:_,fallbackSrc:y,removeWrapper:k,isZoomed:T,isLoading:G,getImgProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,d.W)(D,null==e?void 0:e.className);return{src:v,ref:J,"data-loaded":(0,c.PB)(A),className:B.img({class:t}),loading:w,srcSet:z,sizes:C,crossOrigin:I,...Z,style:{...(null==Z?void 0:Z.height)&&{height:O},...e.style,...Z.style}}},getWrapperProps:q,getBlurredImgProps:U}}({...e,ref:t}),_=(0,m.jsx)(a,{ref:f,...j()});if(b)return _;let k=(0,m.jsx)("div",{className:h.zoomedWrapper({class:null==p?void 0:p.zoomedWrapper}),children:_});return g?(0,m.jsxs)("div",{...y(),children:[v?k:_,(0,s.cloneElement)(_,N())]}):v||!w||x?(0,m.jsxs)("div",{...y(),children:[" ",v?k:_]}):_});f.displayName="NextUI.Image";var h=f},25137:function(e,t,a){"use strict";a.d(t,{d:function(){return i}});var s=a(2265),r=a(46896);function i(e={}){let{loading:t,src:a,srcSet:i,onLoad:n,onError:l,crossOrigin:o,sizes:d,ignoreFallback:c}=e,[u,m]=(0,s.useState)("pending");(0,s.useEffect)(()=>{m(a?"loading":"pending")},[a]);let f=(0,s.useRef)(),h=(0,s.useCallback)(()=>{if(!a)return;p();let e=new Image;e.src=a,o&&(e.crossOrigin=o),i&&(e.srcset=i),d&&(e.sizes=d),t&&(e.loading=t),e.onload=e=>{p(),m("loaded"),null==n||n(e)},e.onerror=e=>{p(),m("failed"),null==l||l(e)},f.current=e},[a,o,i,d,n,l,t]),p=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return(0,r.G)(()=>{if(!c)return"loading"===u&&h(),()=>{p()}},[u,h,c]),c?"loaded":u}}},function(e){e.O(0,[3121,1866,1645,8218,5041,1277,1271,4276,6425,8807,2292,5891,787,1026,1447,2971,7023,1744],function(){return e(e.s=52368)}),_N_E=e.O()}]);