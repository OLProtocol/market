(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{81574:function(e,n,t){Promise.resolve().then(t.bind(t,98021))},98021:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(57437),i=t(19970),s=t(64903),c=t(53115),u=t(2014),l=t(51240),o=t(1525),a=t(99134),d=t(54994),f=t(21507),h=t(12765),v=t(15442),x=t(48749),m=t(68638),p=t(2265),j=function(e){return(e+1)%1e6};function b(e,n){return"function"==typeof e?e.length?e(n):e():e}var g=function(e){void 0===e&&(e=[]);var n=(0,p.useRef)(b(e)),t=(0,p.useReducer)(j,0)[1],r=(0,p.useMemo)(function(){var i={set:function(e){n.current=b(e,n.current),t()},push:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.length&&r.set(function(n){return n.concat(e)})},updateAt:function(e,n){r.set(function(t){var r=t.slice();return r[e]=n,r})},insertAt:function(e,n){r.set(function(t){var r=t.slice();return e>r.length?r[e]=n:r.splice(e,0,n),r})},update:function(e,n){r.set(function(t){return t.map(function(t){return e(t,n)?n:t})})},updateFirst:function(e,t){var i=n.current.findIndex(function(n){return e(n,t)});i>=0&&r.updateAt(i,t)},upsert:function(e,t){var i=n.current.findIndex(function(n){return e(n,t)});i>=0?r.updateAt(i,t):r.push(t)},sort:function(e){r.set(function(n){return n.slice().sort(e)})},filter:function(e,n){r.set(function(t){return t.slice().filter(e,n)})},removeAt:function(e){r.set(function(n){var t=n.slice();return t.splice(e,1),t})},clear:function(){r.set([])},reset:function(){r.set(b(e).slice())}};return i.remove=i.removeAt,i},[]);return[n.current,r]},w=t(56690),A=t(62478),y=t(24033);function k(){let e=(0,y.useRouter)(),{list:n,reset:t}=(0,m.JU)(e=>e),{network:j,address:b}=(0,m.sD)(e=>e),[k,{updateAt:N,set:C,clear:_,removeAt:E}]=g([]),I=async()=>{for(let r=0;r<n.length;r++){let i=n[r],s={...(0,w.u4)(i.utxo),value:i.value},c=await (0,w.eB)({inscriptionUtxo:s,amount:1,total:(0,w.g)(k[r]),network:j,address:b}),u=await (0,A.pm)({address:b,raw:c});200===u.code?(x.ZP.success({message:"Listed successfully",description:"The order has been submitted successfully, please wait for the buyer to buy it."}),t(),e.back()):x.ZP.error({message:"List failed",description:u.msg})}},P=(e,n)=>{N(e,Number(n))},T=(0,p.useMemo)(()=>k.reduce((e,n)=>e+n,0)||0,[k]);return(0,p.useEffect)(()=>{C(Array.from(n).fill(0))},[n]),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex justify-between gap-4 ",children:[(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,r.jsxs)(i.b,{"aria-label":"Example static collection table",children:[(0,r.jsxs)(s.J,{children:[(0,r.jsx)(c.j,{children:"Item"}),(0,r.jsx)(c.j,{children:"Unit Price"}),(0,r.jsx)(c.j,{children:"Amount"})]}),(0,r.jsx)(u.y,{children:n.map((e,n)=>{var t,i,s,c;return(0,r.jsxs)(l.g,{children:[(0,r.jsxs)(o.X,{children:[(0,r.jsxs)("div",{children:["Ticker：",null===(i=e.tickers)||void 0===i?void 0:null===(t=i.map(e=>" ".concat(e.ticker)))||void 0===t?void 0:t.join("-")]}),(0,r.jsxs)("div",{children:["Inscription：",null===(c=e.tickers)||void 0===c?void 0:null===(s=c.map(e=>"# ".concat(e.inscriptionnum)))||void 0===s?void 0:s.join("-")]})]}),(0,r.jsx)(o.X,{children:(0,r.jsx)(a.Y,{type:"number",placeholder:"0.00",onChange:e=>P(n,e.target.value),endContent:(0,r.jsx)("div",{className:"pointer-events-none flex items-center",children:(0,r.jsx)("span",{className:"text-default-400 text-small",children:"btc"})})})}),(0,r.jsx)(o.X,{children:"1"})]},e.utxo)})})]})}),(0,r.jsxs)(d.w,{className:"w-60",children:[(0,r.jsxs)(f.G,{children:[(0,r.jsxs)("div",{children:["Total: ",n.length]}),(0,r.jsxs)("div",{children:["Your profits: ",T," BTC"]})]}),(0,r.jsx)(h.i,{children:(0,r.jsx)(v.A,{isDisabled:T<=0,color:"primary",className:"w-full",onClick:I,children:"List"})})]})]})})}},28305:function(e,n,t){"use strict";t.d(n,{f:function(){return i}});var r=t(57437),i=e=>(0,r.jsx)("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:(0,r.jsx)("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})})}},function(e){e.O(0,[121,645,578,700,226,261,749,134,351,971,472,744],function(){return e(e.s=81574)}),_N_E=e.O()}]);