(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{81574:function(e,n,t){Promise.resolve().then(t.bind(t,98021))},98021:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(57437),i=t(24853),s=t(64903),c=t(53115),u=t(2014),l=t(51240),o=t(1525),a=t(95482),d=t(42891),f=t(21507),v=t(12765),h=t(19505),x=t(48749),p=t(68638),m=t(2265),j=function(e){return(e+1)%1e6};function b(e,n){return"function"==typeof e?e.length?e(n):e():e}var g=function(e){void 0===e&&(e=[]);var n=(0,m.useRef)(b(e)),t=(0,m.useReducer)(j,0)[1],r=(0,m.useMemo)(function(){var i={set:function(e){n.current=b(e,n.current),t()},push:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.length&&r.set(function(n){return n.concat(e)})},updateAt:function(e,n){r.set(function(t){var r=t.slice();return r[e]=n,r})},insertAt:function(e,n){r.set(function(t){var r=t.slice();return e>r.length?r[e]=n:r.splice(e,0,n),r})},update:function(e,n){r.set(function(t){return t.map(function(t){return e(t,n)?n:t})})},updateFirst:function(e,t){var i=n.current.findIndex(function(n){return e(n,t)});i>=0&&r.updateAt(i,t)},upsert:function(e,t){var i=n.current.findIndex(function(n){return e(n,t)});i>=0?r.updateAt(i,t):r.push(t)},sort:function(e){r.set(function(n){return n.slice().sort(e)})},filter:function(e,n){r.set(function(t){return t.slice().filter(e,n)})},removeAt:function(e){r.set(function(n){var t=n.slice();return t.splice(e,1),t})},clear:function(){r.set([])},reset:function(){r.set(b(e).slice())}};return i.remove=i.removeAt,i},[]);return[n.current,r]},y=t(56690),N=t(62478),w=t(24033);function k(){let e=(0,w.useRouter)(),{list:n,reset:t}=(0,p.JU)(e=>e),{network:j,address:b}=(0,p.sD)(e=>e),[k,{updateAt:A,set:C,clear:_,removeAt:E}]=g([]),I=async()=>{for(let r=0;r<n.length;r++){let i=n[r],s={...(0,y.u4)(i.utxo),value:i.value},c=await (0,y.eB)({inscriptionUtxo:s,amount:1,total:(0,y.g)(k[r]),network:j,address:b}),u=await (0,N.pm)({address:b,raw:c});200===u.code?(x.ZP.success({message:"Listed successfully",description:"The order has been submitted successfully, please wait for the buyer to buy it."}),t(),e.back()):x.ZP.error({message:"List failed",description:u.msg})}},P=(e,n)=>{A(e,Number(n))},R=(0,m.useMemo)(()=>k.reduce((e,n)=>e+n,0)||0,[k]);return(0,m.useEffect)(()=>{C(Array.from(n).fill(0))},[n]),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex justify-between gap-4 ",children:[(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,r.jsxs)(i.b,{"aria-label":"Example static collection table",children:[(0,r.jsxs)(s.J,{children:[(0,r.jsx)(c.j,{children:"Item"}),(0,r.jsx)(c.j,{children:"Unit Price"}),(0,r.jsx)(c.j,{children:"Amount"})]}),(0,r.jsx)(u.y,{children:n.map((e,n)=>{var t,i,s,c;return(0,r.jsxs)(l.g,{children:[(0,r.jsxs)(o.X,{children:[(0,r.jsxs)("div",{children:["Ticker：",null===(i=e.tickers)||void 0===i?void 0:null===(t=i.map(e=>" ".concat(e.ticker)))||void 0===t?void 0:t.join("-")]}),(0,r.jsxs)("div",{children:["Inscription：",null===(c=e.tickers)||void 0===c?void 0:null===(s=c.map(e=>"# ".concat(e.inscriptionnum)))||void 0===s?void 0:s.join("-")]})]}),(0,r.jsx)(o.X,{children:(0,r.jsx)(a.Y,{type:"number",placeholder:"0.00",onChange:e=>P(n,e.target.value),endContent:(0,r.jsx)("div",{className:"pointer-events-none flex items-center",children:(0,r.jsx)("span",{className:"text-default-400 text-small",children:"btc"})})})}),(0,r.jsx)(o.X,{children:"1"})]},e.utxo)})})]})}),(0,r.jsxs)(d.w,{className:"w-60",children:[(0,r.jsxs)(f.G,{children:[(0,r.jsxs)("div",{children:["Total: ",n.length]}),(0,r.jsxs)("div",{children:["Your profits: ",R," BTC"]})]}),(0,r.jsx)(v.i,{children:(0,r.jsx)(h.A,{isDisabled:R<=0,color:"primary",className:"w-full",onClick:I,children:"List"})})]})]})})}},12765:function(e,n,t){"use strict";t.d(n,{i:function(){return o}});var r=t(5817),i=t(34480),s=t(25312),c=t(59762),u=t(57437),l=(0,i.Gp)((e,n)=>{var t;let{as:i,className:l,children:o,...a}=e,d=(0,s.gy)(n),{slots:f,classNames:v}=(0,r.R)(),h=(0,c.W)(null==v?void 0:v.footer,l);return(0,u.jsx)(i||"div",{ref:d,className:null==(t=f.footer)?void 0:t.call(f,{class:h}),...a,children:o})});l.displayName="NextUI.CardFooter";var o=l}},function(e){e.O(0,[121,645,890,208,785,482,586,971,472,744],function(){return e(e.s=81574)}),_N_E=e.O()}]);