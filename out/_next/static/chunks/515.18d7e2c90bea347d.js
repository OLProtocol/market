"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{30515:function(e,a,s){s.r(a);var o=s(57437),n=s(26772),l=s(17060),r=s(50820),t=s(81491),c=s(13264),i=s(99376),d=s(2265),u=s(47448),p=s(68720),g=s(78298),f=s(2889),b=s(44747),h=s(62234),m=s(43949),y=s(77807);a.default=()=>{let{t:e}=(0,m.$G)();(0,i.useRouter)();let{theme:a}=(0,g.F)(),{connected:s,check:v,address:x,publicKey:w,disconnect:k,btcWallet:j,network:C}=(0,u.$)(e=>e),{reset:J,getUnspendUtxos:N,list:A}=(0,y.YL)(),{setSignature:B,signature:S}=(0,y.Ee)(e=>e),[E,M]=(0,d.useState)(0);(0,d.useEffect)(()=>{console.log("check",s),v()},[]),(0,d.useEffect)(()=>{M(N().reduce((e,a)=>e+a.value,0))},[A]);let L=async e=>{if(!S){console.log("signature text","ordx-marketplace");try{let a=await e.signMessage("ordx-marketplace");B(a)}catch(e){await k()}}},P=async()=>{console.log("disconnect success"),B(""),await k()},I=async()=>{console.log("accountAndNetworkChange"),console.log("connected",s),J();let e="visible"===document.visibilityState||!document.hidden;try{if(await v(),s)try{if(console.log("checkSignature"),console.log(e),e){let e=await (null==j?void 0:j.signMessage("ordx-marketplace"));e&&B(e)}else P()}catch(e){await P()}}catch(e){console.log(e)}},W=(0,d.useMemo)(()=>(0,f.Ay)(E),[E]),F=async()=>{if(S)try{b.yw.verifyMessageOfECDSA(w,"ordx-marketplace",S)||(h.ZP.warning({message:"Signature Verification Failed",description:"Please check your signature and try connect again"}),P())}catch(e){console.log("checkSignature",e),h.ZP.warning({message:"Signature Verification Failed",description:"Please check your signature and try connect again"}),P()}};return(0,d.useEffect)(()=>(console.log("connected",s),s?(setTimeout(()=>{F()},2e3),null==j||j.on("accountsChanged",I),null==j||j.on("networkChanged",I)):(null==j||j.removeListener("accountsChanged",I),null==j||j.removeListener("networkChanged",I)),()=>{null==j||j.removeListener("accountsChanged",I),null==j||j.removeListener("networkChanged",I)}),[s]),(0,o.jsx)(u.A,{config:{network:"livenet"},theme:"dark"===a?"dark":"light",onConnectSuccess:L,onConnectError:e=>{console.error("Connect Wallet Failed",e),h.ZP.error({message:"Connect Wallet Failed",description:e.message})},children:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(n.j,{placement:"bottom",children:[(0,o.jsx)(l.b,{children:(0,o.jsx)(r.A,{className:"px-0",endContent:(0,o.jsx)("div",{className:"px-2 h-full flex justify-center items-center  bg-gray-600",children:null==x?void 0:x.slice(-4)}),children:(0,o.jsxs)("div",{className:"flex items-center gap-1 pl-2",children:[(0,o.jsx)("span",{children:W}),(0,o.jsx)(p.JO,{icon:"cryptocurrency-color:btc",className:"w-4 h-4"})]})})}),(0,o.jsx)(t.g,{className:"p-2",children:(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)("div",{children:(0,o.jsx)(c.Z,{codeString:x,className:"bg-transparent text-lg md:text-2xl font-thin items-center",symbol:"",variant:"flat",children:(0,o.jsx)("span",{className:"text-base font-thin text-slate-400",children:(0,f.NH)(x,4)})})}),(0,o.jsx)(r.A,{className:"w-full",onClick:()=>{let e=(0,f.Gg)({network:C,path:"address/".concat(x)});window.open(e,"_blank")},children:e("buttons.to_history")}),(0,o.jsx)(r.A,{color:"danger",variant:"ghost",onClick:P,children:e("buttons.disconnect")})]})})]})})})}},13264:function(e,a,s){s.d(a,{Z:function(){return w}});var o=s(50553),n=(0,s(41169).tv)({slots:{base:"inline-flex items-center justify-between h-fit rounded-large gap-2",pre:"bg-transparent text-inherit font-mono font-normal inline-block whitespace-nowrap",content:"flex flex-col",symbol:"select-none",copyButton:["group","relative","z-10","text-large","text-inherit","data-[hover=true]:bg-transparent"],copyIcon:["absolute text-inherit opacity-100 scale-100 group-data-[copied=true]:opacity-0 group-data-[copied=true]:scale-50"],checkIcon:["absolute text-inherit opacity-0 scale-50 group-data-[copied=true]:opacity-100 group-data-[copied=true]:scale-100"]},variants:{variant:{flat:"",solid:"",bordered:"border-medium bg-transparent",shadow:""},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{base:"px-1.5 py-0.5 text-tiny rounded-small"},md:{base:"px-3 py-1.5 text-small rounded-medium"},lg:{base:"px-4 py-2 text-medium rounded-large"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},fullWidth:{true:{base:"w-full"}},disableAnimation:{true:{},false:{copyIcon:"transition-transform-opacity",checkIcon:"transition-transform-opacity"}}},defaultVariants:{color:"default",variant:"flat",size:"md",fullWidth:!1},compoundVariants:[{variant:["solid","shadow"],color:"default",class:{copyButton:"data-[focus-visible]:outline-default-foreground"}},{variant:["solid","shadow"],color:"primary",class:{copyButton:"data-[focus-visible]:outline-primary-foreground"}},{variant:["solid","shadow"],color:"secondary",class:{copyButton:"data-[focus-visible]:outline-secondary-foreground"}},{variant:["solid","shadow"],color:"success",class:{copyButton:"data-[focus-visible]:outline-success-foreground"}},{variant:["solid","shadow"],color:"warning",class:{copyButton:"data-[focus-visible]:outline-warning-foreground"}},{variant:["solid","shadow"],color:"danger",class:{copyButton:"data-[focus-visible]:outline-danger-foreground"}},{variant:"flat",color:"default",class:{base:o.J.flat.default}},{variant:"flat",color:"primary",class:{base:o.J.flat.primary}},{variant:"flat",color:"secondary",class:{base:o.J.flat.secondary}},{variant:"flat",color:"success",class:{base:o.J.flat.success}},{variant:"flat",color:"warning",class:{base:o.J.flat.warning}},{variant:"flat",color:"danger",class:{base:o.J.flat.danger}},{variant:"solid",color:"default",class:{base:o.J.solid.default}},{variant:"solid",color:"primary",class:{base:o.J.solid.primary}},{variant:"solid",color:"secondary",class:{base:o.J.solid.secondary}},{variant:"solid",color:"success",class:{base:o.J.solid.success}},{variant:"solid",color:"warning",class:{base:o.J.solid.warning}},{variant:"solid",color:"danger",class:{base:o.J.solid.danger}},{variant:"shadow",color:"default",class:{base:o.J.shadow.default}},{variant:"shadow",color:"primary",class:{base:o.J.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:o.J.shadow.secondary}},{variant:"shadow",color:"success",class:{base:o.J.shadow.success}},{variant:"shadow",color:"warning",class:{base:o.J.shadow.warning}},{variant:"shadow",color:"danger",class:{base:o.J.shadow.danger}},{variant:"bordered",color:"default",class:{base:o.J.bordered.default}},{variant:"bordered",color:"primary",class:{base:o.J.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:o.J.bordered.secondary}},{variant:"bordered",color:"success",class:{base:o.J.bordered.success}},{variant:"bordered",color:"warning",class:{base:o.J.bordered.warning}},{variant:"bordered",color:"danger",class:{base:o.J.bordered.danger}}]}),l=s(2646),r=s(72243),t=s(88160),c=s(27246),i=s(2357),d=s(46763),u=s(97765),p=s(2265),g=e=>e.replace(/[\u00A0]/g," "),f=s(56037),b=s(72396),h=s(57437),m=e=>(0,h.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,h.jsx)("path",{d:"M16 17.1c0 3.5-1.4 4.9-4.9 4.9H6.9C3.4 22 2 20.6 2 17.1v-4.2C2 9.4 3.4 8 6.9 8h4.2c3.5 0 4.9 1.4 4.9 4.9Z"}),(0,h.jsx)("path",{d:"M8 8V6.9C8 3.4 9.4 2 12.9 2h4.2C20.6 2 22 3.4 22 6.9v4.2c0 3.5-1.4 4.9-4.9 4.9H16"}),(0,h.jsx)("path",{d:"M16 12.9C16 9.4 14.6 8 11.1 8"})]}),y=e=>(0,h.jsx)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:"1em",...e,children:(0,h.jsx)("polyline",{points:"20 6 9 17 4 12"})}),v=s(50820),x=(0,r.Gp)((e,a)=>{let{Component:s,domRef:o,preRef:x,children:w,slots:k,classNames:j,copied:C,copyIcon:J=(0,h.jsx)(m,{}),checkIcon:N=(0,h.jsx)(y,{}),symbolBefore:A,disableCopy:B,disableTooltip:S,hideSymbol:E,hideCopyButton:M,tooltipProps:L,isMultiLine:P,onCopy:I,getSnippetProps:W,getCopyButtonProps:F}=function(e){var a,s,o,b;let h=(0,l.w)(),[m,y]=(0,r.oe)(e,n.variantKeys),{ref:v,as:x,children:w,symbol:k="$",classNames:j,timeout:C,copyIcon:J,checkIcon:N,codeString:A,disableCopy:B=!1,disableTooltip:S=!1,hideCopyButton:E=!1,autoFocus:M=!1,hideSymbol:L=!1,onCopy:P,tooltipProps:I={},copyButtonProps:W={},className:F,...V}=m,Z=x||"div",_="string"==typeof Z,z=null!=(s=null!=(a=null==e?void 0:e.disableAnimation)?a:null==h?void 0:h.disableAnimation)&&s,D={offset:15,delay:1e3,content:"Copy to clipboard",color:null!=(b=null==e?void 0:e.color)?b:null==(o=n.defaultVariants)?void 0:o.color,isDisabled:m.disableCopy,...I},T=(0,t.gy)(v),G=(0,p.useRef)(null),{copy:H,copied:O}=function({timeout:e=2e3}={}){let[a,s]=(0,p.useState)(null),[o,n]=(0,p.useState)(!1),[l,r]=(0,p.useState)(null),t=(0,p.useCallback)(()=>{l&&clearTimeout(l)},[l]),c=(0,p.useCallback)(a=>{t(),r(setTimeout(()=>n(!1),e)),n(a)},[t,e]);return{copy:(0,p.useCallback)(e=>{if("clipboard"in navigator){let a="string"==typeof e?g(e):e;navigator.clipboard.writeText(a).then(()=>c(!0)).catch(e=>s(e))}else s(Error("useClipboard: navigator.clipboard is not supported"))},[c]),reset:(0,p.useCallback)(()=>{n(!1),s(null),t()},[t]),error:a,copied:o}}({timeout:C}),$=w&&Array.isArray(w),{isFocusVisible:R,isFocused:X,focusProps:K}=(0,f.F)({autoFocus:M}),U=(0,p.useMemo)(()=>n({...y,disableAnimation:z}),[(0,i.Xx)(y),z]),Y=(0,p.useMemo)(()=>{if(!k||"string"!=typeof k)return k;let e=k.trim();return e?"".concat(e," "):""},[k]),q=(0,d.W)(null==j?void 0:j.base,F),Q=(0,p.useCallback)(()=>({className:U.base({class:q}),...(0,c.z)(V,{enabled:_})}),[U,q,$,V]),ee=(0,p.useCallback)(()=>{var e;if(B)return;let a="";"string"==typeof w?a=w:Array.isArray(w)&&w.forEach(e=>{var s,o;let n="string"==typeof e?e:null==(o=null==(s=null==e?void 0:e.props)?void 0:s.children)?void 0:o.toString();n&&(a+=n+"\n")});let s=A||a||(null==(e=G.current)?void 0:e.textContent)||"";H(s),null==P||P(s)},[H,A,B,P,w]),ea={"aria-label":"string"==typeof D.content?D.content:"Copy to clipboard",size:"sm",variant:"light",isDisabled:B,onPress:ee,isIconOnly:!0,...W},es=(0,p.useCallback)(()=>({...ea,"data-copied":(0,u.PB)(O),className:U.copyButton({class:(0,d.W)(null==j?void 0:j.copyButton)})}),[U,R,X,B,null==j?void 0:j.copyButton,ea,K]);return{Component:Z,as:x,domRef:T,preRef:G,children:w,slots:U,classNames:j,copied:O,onCopy:ee,copyIcon:J,checkIcon:N,symbolBefore:Y,isMultiLine:$,isFocusVisible:R,hideCopyButton:E,disableCopy:B,disableTooltip:S,hideSymbol:L,tooltipProps:D,getSnippetProps:Q,getCopyButtonProps:es}}({...e,ref:a}),V=(0,p.useCallback)(e=>{let{children:a}=e;return(0,h.jsx)(b.e,{...L,isDisabled:C||L.isDisabled,children:a})},[(0,i.Xx)(L)]),Z=(0,p.useMemo)(()=>{if(M)return null;let e=N&&(0,p.cloneElement)(N,{className:k.checkIcon()}),a=J&&(0,p.cloneElement)(J,{className:k.copyIcon()}),s=(0,h.jsxs)(v.A,{...F(),children:[e,a]});return S?s:(0,h.jsx)(V,{children:s})},[k,null==j?void 0:j.copyButton,C,N,J,I,V,B,S,M]),_=(0,p.useMemo)(()=>P&&w&&Array.isArray(w)?(0,h.jsx)("div",{className:k.content({class:null==j?void 0:j.content}),children:w.map((e,a)=>(0,h.jsxs)("pre",{className:k.pre({class:null==j?void 0:j.pre}),children:[!E&&(0,h.jsx)("span",{className:k.symbol({class:null==j?void 0:j.symbol}),children:A}),e]},"".concat(a,"-").concat(e)))}):(0,h.jsxs)("pre",{ref:x,className:k.pre({class:null==j?void 0:j.pre}),children:[!E&&(0,h.jsx)("span",{className:k.symbol({class:null==j?void 0:j.symbol}),children:A}),w]}),[w,E,P,A,null==j?void 0:j.pre,k]);return(0,h.jsxs)(s,{ref:o,...W(),children:[_,Z]})});x.displayName="NextUI.Snippet";var w=x}}]);