"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5274],{5274:function(e,l,t){t.d(l,{n:function(){return a}});class n{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){var l;let t=this.keyMap.get(e);return t&&null!==(l=t.prevKey)&&void 0!==l?l:null}getKeyAfter(e){var l;let t=this.keyMap.get(e);return t&&null!==(l=t.nextKey)&&void 0!==l?l:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var l;return null!==(l=this.keyMap.get(e))&&void 0!==l?l:null}at(e){let l=[...this.getKeys()];return this.getItem(l[e])}getChildren(e){let l=this.keyMap.get(e);return(null==l?void 0:l.childNodes)||[]}constructor(e){var l;this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e;let t=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&"section"===e.type)for(let l of e.childNodes)t(l)};for(let l of e)t(l);let n=null,i=0;for(let[e,l]of this.keyMap)n?(n.nextKey=e,l.prevKey=n.key):(this.firstKey=e,l.prevKey=void 0),"item"===l.type&&(l.index=i++),(n=l).nextKey=void 0;this.lastKey=null!==(l=null==n?void 0:n.key)&&void 0!==l?l:null}}var i=t(75125),r=t(12187),u=t(2265);class o{build(e,l){return this.context=l,d(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:l,items:t}=e;if(u.isValidElement(l)&&l.type===u.Fragment)yield*this.iterateCollection({children:l.props.children,items:t});else if("function"==typeof l){if(!t)throw Error("props.children was a function but props.items is missing");let e=0;for(let n of t)yield*this.getFullNode({value:n,index:e},{renderer:l}),e++}else{let e=[];u.Children.forEach(l,l=>{l&&e.push(l)});let t=0;for(let l of e)for(let e of this.getFullNode({element:l,index:t},{}))t++,yield e}}getKey(e,l,t,n){if(null!=e.key)return e.key;if("cell"===l.type&&null!=l.key)return`${n}${l.key}`;let i=l.value;if(null!=i){var r;let e=null!==(r=i.key)&&void 0!==r?r:i.id;if(null==e)throw Error("No key found for item");return e}return n?`${n}.${l.index}`:`$.${l.index}`}getChildState(e,l){return{renderer:l.renderer||e.renderer}}*getFullNode(e,l,t,n){var i,r,o,a,y,h,p,f;if(u.isValidElement(e.element)&&e.element.type===u.Fragment){let r=[];u.Children.forEach(e.element.props.children,e=>{r.push(e)});let o=null!==(i=e.index)&&void 0!==i?i:0;for(let e of r)yield*this.getFullNode({element:e,index:o++},l,t,n);return}let c=e.element;if(!c&&e.value&&l&&l.renderer){let t=this.cache.get(e.value);if(t&&(!t.shouldInvalidate||!t.shouldInvalidate(this.context))){t.index=e.index,t.parentKey=n?n.key:null,yield t;return}c=l.renderer(e.value)}if(u.isValidElement(c)){let i=c.type;if("function"!=typeof i&&"function"!=typeof i.getCollectionNode){let e=c.type;throw Error(`Unknown element <${e}> in collection.`)}let u=i.getCollectionNode(c.props,this.context),d=null!==(r=e.index)&&void 0!==r?r:0,p=u.next();for(;!p.done&&p.value;){let i=p.value;e.index=d;let r=null!==(o=i.key)&&void 0!==o?o:null;null==r&&(r=i.element?null:this.getKey(c,e,l,t));let f=[...this.getFullNode({...i,key:r,index:d,wrapper:function(e,l){return e&&l?t=>e(l(t)):e||l||void 0}(e.wrapper,i.wrapper)},this.getChildState(l,i),t?`${t}${c.key}`:c.key,n)];for(let l of f){if(l.value=null!==(y=null!==(a=i.value)&&void 0!==a?a:e.value)&&void 0!==y?y:null,l.value&&this.cache.set(l.value,l),e.type&&l.type!==e.type)throw Error(`Unsupported type <${s(l.type)}> in <${s(null!==(h=null==n?void 0:n.type)&&void 0!==h?h:"unknown parent type")}>. Only <${s(e.type)}> is supported.`);d++,yield l}p=u.next(f)}return}if(null==e.key||null==e.type)return;let v=this,g={type:e.type,props:e.props,key:e.key,parentKey:n?n.key:null,value:null!==(p=e.value)&&void 0!==p?p:null,level:n?n.level+1:0,index:e.index,rendered:e.rendered,textValue:null!==(f=e.textValue)&&void 0!==f?f:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:d(function*(){if(!e.hasChildNodes||!e.childNodes)return;let t=0;for(let n of e.childNodes())for(let e of(null!=n.key&&(n.key=`${g.key}${n.key}`),v.getFullNode({...n,index:t},v.getChildState(l,n),g.key,g)))t++,yield e})};yield g}constructor(){this.cache=new WeakMap}}function d(e){let l=[],t=null;return{*[Symbol.iterator](){for(let e of l)yield e;for(let n of(t||(t=e()),t))l.push(n),yield n}}}function s(e){return e[0].toUpperCase()+e.slice(1)}function a(e){let{filter:l,layoutDelegate:t}=e,d=(0,i.q)(e),s=(0,u.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),a=(0,u.useCallback)(e=>new n(l?l(e):e),[l]),y=(0,u.useMemo)(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),h=function(e,l,t){let n=(0,u.useMemo)(()=>new o,[]),{children:i,items:r,collection:d}=e;return(0,u.useMemo)(()=>d||l(n.build({children:i,items:r},t)),[n,i,r,d,t,l])}(e,a,y),p=(0,u.useMemo)(()=>new r.Z(h,d,{layoutDelegate:t}),[h,d,t]),f=(0,u.useRef)(null);return(0,u.useEffect)(()=>{if(null!=d.focusedKey&&!h.getItem(d.focusedKey)&&f.current){var e,l,t,n,i,r,u;let o=f.current.getItem(d.focusedKey),s=[...f.current.getKeys()].map(e=>{let l=f.current.getItem(e);return(null==l?void 0:l.type)==="item"?l:null}).filter(e=>null!==e),a=[...h.getKeys()].map(e=>{let l=h.getItem(e);return(null==l?void 0:l.type)==="item"?l:null}).filter(e=>null!==e),y=(null!==(e=null==s?void 0:s.length)&&void 0!==e?e:0)-(null!==(l=null==a?void 0:a.length)&&void 0!==l?l:0),c=Math.min(y>1?Math.max((null!==(t=null==o?void 0:o.index)&&void 0!==t?t:0)-y+1,0):null!==(n=null==o?void 0:o.index)&&void 0!==n?n:0,(null!==(i=null==a?void 0:a.length)&&void 0!==i?i:0)-1),v=null,g=!1;for(;c>=0;){if(!p.isDisabled(a[c].key)){v=a[c];break}c<a.length-1&&!g?c++:(g=!0,c>(null!==(r=null==o?void 0:o.index)&&void 0!==r?r:0)&&(c=null!==(u=null==o?void 0:o.index)&&void 0!==u?u:0),c--)}d.setFocusedKey(v?v.key:null)}f.current=h},[h,p,d,d.focusedKey]),{collection:h,disabledKeys:s,selectionManager:p}}}}]);